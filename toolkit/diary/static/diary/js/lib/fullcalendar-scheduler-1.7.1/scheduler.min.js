/*!
FullCalendar Scheduler v1.7.1
Docs & License: https://fullcalendar.io/scheduler/
(c) 2017 Adam Shaw
 */
!function(e){"function"==typeof define&&define.amd?define(["jquery","moment","fullcalendar"],e):"object"==typeof exports?module.exports=e(require("jquery"),require("moment"),require("fullcalendar")):e(jQuery,moment)}(function(e,t){var r,o,n,s,i,l,u,a,h,c,p,d,f,g,y,v,R,w,m,S,b,C,E,H,T,_,I,D,x,F,B,G,M,z,W,L,P,k,A,O,q,U,V,N,j,Y,Q,X,$,K,J,Z,ee,te,re,oe,ne,se,ie,le,ue,ae,he,ce,pe,de,fe,ge,ye,ve,Re,we,me,Se,be,Ce,Ee,He,Te,_e,Ie,De,xe,Fe,Be,Ge,Me,ze,We,Le,Pe,ke,Ae,Oe,qe,Ue,Ve,Ne,je,Ye,Qe,Xe,$e,Ke,Je,Ze,et,tt,rt=function(e,t){function r(){this.constructor=e}for(var o in t)ot.call(t,o)&&(e[o]=t[o]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},ot={}.hasOwnProperty,nt=[].indexOf||function(e){for(var t=0,r=this.length;t<r;t++)if(t in this&&this[t]===e)return t;return-1};return R=e.fullCalendar,R.schedulerVersion="1.7.1",10!==R.internalApiVersion?void R.warn("v"+R.schedulerVersion+" of FullCalendar Scheduler is incompatible with v"+R.version+" of the core.\nPlease see http://fullcalendar.io/support/ for more information."):(o=R.Calendar,s=R.Class,se=R.View,w=R.Grid,ge=R.debounce,Fe=R.isInt,Xe=R.removeExact,Te=R.getScrollbarWidths,h=R.DragListener,Ie=R.htmlEscape,he=R.computeGreatestUnit,Qe=R.proxy,ue=R.capitaliseFirstLetter,le=R.applyAll,c=R.EmitterMixin,b=R.ListenerMixin,we=R.durationHasTime,Re=R.divideRangeByDuration,ve=R.divideDurationByDuration,Me=R.multiplyDuration,je=R.parseFieldSpecs,ae=R.compareByFieldSpecs,me=R.flexibleCompare,De=R.intersectRects,u=R.CoordCache,Se=R.getContentRect,be=R.getOuterRect,I=R.Promise,J=R.TaskQueue,re=R.UnzonedRange,l=R.ComponentFootprint,d=R.EventDef,v=R.EventSource,g=R.EventFootprint,f=R.EventDefMutation,Ce=function(e){return e.find("> td").filter(function(e,t){return t.rowSpan<=1})},p=function(t){function r(){r.__super__.constructor.apply(this,arguments),this.requestMovingEnd=ge(this.reportMovingEnd,500)}var o,n;return rt(r,t),r.mixin(c),r.mixin(b),r.prototype.canvas=null,r.prototype.isScrolling=!1,r.prototype.isTouching=!1,r.prototype.isTouchedEver=!1,r.prototype.isMoving=!1,r.prototype.isTouchScrollEnabled=!0,r.prototype.preventTouchScrollHandler=null,r.prototype.render=function(){return r.__super__.render.apply(this,arguments),this.canvas&&(this.canvas.render(),this.canvas.el.appendTo(this.scrollEl)),this.bindHandlers()},r.prototype.destroy=function(){return r.__super__.destroy.apply(this,arguments),this.unbindHandlers()},r.prototype.disableTouchScroll=function(){return this.isTouchScrollEnabled=!1,this.bindPreventTouchScroll()},r.prototype.enableTouchScroll=function(){if(this.isTouchScrollEnabled=!0,!this.isTouching)return this.unbindPreventTouchScroll()},r.prototype.bindPreventTouchScroll=function(){if(!this.preventTouchScrollHandler)return this.scrollEl.on("touchmove",this.preventTouchScrollHandler=R.preventDefault)},r.prototype.unbindPreventTouchScroll=function(){if(this.preventTouchScrollHandler)return this.scrollEl.off("touchmove",this.preventTouchScrollHandler),this.preventTouchScrollHandler=null},r.prototype.bindHandlers=function(){return this.listenTo(this.scrollEl,{scroll:this.reportScroll,touchstart:this.reportTouchStart,touchend:this.reportTouchEnd})},r.prototype.unbindHandlers=function(){return this.stopListeningTo(this.scrollEl)},r.prototype.reportScroll=function(){return this.isScrolling||this.reportScrollStart(),this.trigger("scroll"),this.isMoving=!0,this.requestMovingEnd()},r.prototype.reportScrollStart=function(){if(!this.isScrolling)return this.isScrolling=!0,this.trigger("scrollStart",this.isTouching)},r.prototype.requestMovingEnd=null,r.prototype.reportMovingEnd=function(){if(this.isMoving=!1,!this.isTouching)return this.reportScrollEnd()},r.prototype.reportScrollEnd=function(){if(this.isScrolling)return this.trigger("scrollEnd"),this.isScrolling=!1},r.prototype.reportTouchStart=function(){return this.isTouching=!0,this.isTouchedEver=!0},r.prototype.reportTouchEnd=function(){if(this.isTouching&&(this.isTouching=!1,this.isTouchScrollEnabled&&this.unbindPreventTouchScroll(),!this.isMoving))return this.reportScrollEnd()},r.prototype.getScrollLeft=function(){var e,t,r;if(e=this.scrollEl.css("direction"),t=this.scrollEl[0],r=t.scrollLeft,"rtl"===e)switch(n){case"positive":r=r+t.clientWidth-t.scrollWidth;break;case"reverse":r=-r}return r},r.prototype.setScrollLeft=function(e){var t,r;if(t=this.scrollEl.css("direction"),r=this.scrollEl[0],"rtl"===t)switch(n){case"positive":e=e-r.clientWidth+r.scrollWidth;break;case"reverse":e=-e}return r.scrollLeft=e},r.prototype.getScrollFromLeft=function(){var e,t,r;if(e=this.scrollEl.css("direction"),t=this.scrollEl[0],r=t.scrollLeft,"rtl"===e)switch(n){case"negative":r=r-t.clientWidth+t.scrollWidth;break;case"reverse":r=-r-t.clientWidth+t.scrollWidth}return r},r.prototype.getNativeScrollLeft=function(){return this.scrollEl[0].scrollLeft},r.prototype.setNativeScrollLeft=function(e){return this.scrollEl[0].scrollLeft=e},n=null,o=function(){var t,r,o;return t=e('<div style=" position: absolute; top: -1000px; width: 1px; height: 1px; overflow: scroll; direction: rtl; font-size: 100px; ">A</div>').appendTo("body"),r=t[0],o=r.scrollLeft>0?"positive":(r.scrollLeft=1,t.scrollLeft>0?"reverse":"negative"),t.remove(),o},e(function(){return n=o()}),r}(R.Scroller),i=function(t){function r(){r.__super__.constructor.apply(this,arguments),"clipped-scroll"===this.overflowX&&(this.overflowX="scroll",this.isHScrollbarsClipped=!0),"clipped-scroll"===this.overflowY&&(this.overflowY="scroll",this.isVScrollbarsClipped=!0)}return rt(r,t),r.prototype.isHScrollbarsClipped=!1,r.prototype.isVScrollbarsClipped=!1,r.prototype.renderEl=function(){var t;return t=r.__super__.renderEl.apply(this,arguments),e('<div class="fc-scroller-clip" />').append(t)},r.prototype.updateSize=function(){var e,t,r;return t=this.scrollEl,r=Te(t),e={marginLeft:0,marginRight:0,marginTop:0,marginBottom:0},this.isHScrollbarsClipped&&(e.marginTop=-r.top,e.marginBottom=-r.bottom),this.isVScrollbarsClipped&&(e.marginLeft=-r.left,e.marginRight=-r.right),t.css(e),t.toggleClass("fc-no-scrollbars",(this.isHScrollbarsClipped||"hidden"===this.overflowX)&&(this.isVScrollbarsClipped||"hidden"===this.overflowY)&&!(r.top||r.bottom||r.left||r.right))},r.prototype.getScrollbarWidths=function(){var e;return e=Te(this.scrollEl),this.isHScrollbarsClipped&&(e.top=0,e.bottom=0),this.isVScrollbarsClipped&&(e.left=0,e.right=0),e},r}(p),$=function(){function t(){this.gutters={}}return t.prototype.el=null,t.prototype.contentEl=null,t.prototype.bgEl=null,t.prototype.gutters=null,t.prototype.width=null,t.prototype.minWidth=null,t.prototype.render=function(){return this.el=e('<div class="fc-scroller-canvas"> <div class="fc-content"></div> <div class="fc-bg"></div> </div>'),this.contentEl=this.el.find(".fc-content"),this.bgEl=this.el.find(".fc-bg")},t.prototype.setGutters=function(t){return t?e.extend(this.gutters,t):this.gutters={},this.updateSize()},t.prototype.setWidth=function(e){return this.width=e,this.updateSize()},t.prototype.setMinWidth=function(e){return this.minWidth=e,this.updateSize()},t.prototype.clearWidth=function(){return this.width=null,this.minWidth=null,this.updateSize()},t.prototype.updateSize=function(){var e;return e=this.gutters,this.el.toggleClass("fc-gutter-left",Boolean(e.left)).toggleClass("fc-gutter-right",Boolean(e.right)).toggleClass("fc-gutter-top",Boolean(e.top)).toggleClass("fc-gutter-bottom",Boolean(e.bottom)).css({paddingLeft:e.left||"",paddingRight:e.right||"",paddingTop:e.top||"",paddingBottom:e.bottom||"",width:null!=this.width?this.width+(e.left||0)+(e.right||0):"",minWidth:null!=this.minWidth?this.minWidth+(e.left||0)+(e.right||0):""}),this.bgEl.css({left:e.left||"",right:e.right||"",top:e.top||"",bottom:e.bottom||""})},t}(),X=function(){function e(e,t){var r,o,n,s;for(this.axis=e,this.scrollers=t,n=this.scrollers,r=0,o=n.length;r<o;r++)s=n[r],this.initScroller(s)}return e.prototype.axis=null,e.prototype.scrollers=null,e.prototype.masterScroller=null,e.prototype.initScroller=function(e){return e.scrollEl.on("wheel mousewheel DomMouseScroll MozMousePixelScroll",function(t){return function(){t.assignMasterScroller(e)}}(this)),e.on("scrollStart",function(t){return function(){if(!t.masterScroller)return t.assignMasterScroller(e)}}(this)).on("scroll",function(t){return function(){var r,o,n,s,i;if(e===t.masterScroller){for(s=t.scrollers,i=[],r=0,o=s.length;r<o;r++)if(n=s[r],n!==e)switch(t.axis){case"horizontal":i.push(n.setNativeScrollLeft(e.getNativeScrollLeft()));break;case"vertical":i.push(n.setScrollTop(e.getScrollTop()));break;default:i.push(void 0)}else i.push(void 0);return i}}}(this)).on("scrollEnd",function(t){return function(){if(e===t.masterScroller)return t.unassignMasterScroller()}}(this))},e.prototype.assignMasterScroller=function(e){var t,r,o,n;for(this.unassignMasterScroller(),this.masterScroller=e,n=this.scrollers,t=0,r=n.length;t<r;t++)o=n[t],o!==e&&o.disableTouchScroll()},e.prototype.unassignMasterScroller=function(){var e,t,r,o;if(this.masterScroller){for(o=this.scrollers,e=0,t=o.length;e<t;e++)r=o[e],r.enableTouchScroll();this.masterScroller=null}},e.prototype.update=function(){var e,t,r,o,n,s,i,l,u,a,h,c,p;for(e=function(){var e,t,r,o;for(r=this.scrollers,o=[],e=0,t=r.length;e<t;e++)c=r[e],o.push(c.getScrollbarWidths());return o}.call(this),l=u=a=i=0,r=0,n=e.length;r<n;r++)p=e[r],l=Math.max(l,p.left),u=Math.max(u,p.right),a=Math.max(a,p.top),i=Math.max(i,p.bottom);for(h=this.scrollers,t=o=0,s=h.length;o<s;t=++o)c=h[t],p=e[t],c.canvas.setGutters("horizontal"===this.axis?{left:l-p.left,right:u-p.right}:{top:a-p.top,bottom:i-p.bottom})},e}(),Y=function(){function t(e,t){this.allowPointerEvents=null!=t&&t,this.scroller=e,this.sprites=[],e.on("scroll",function(t){return function(){return e.isTouchedEver?(t.isTouch=!0,t.isForcedRelative=!0):(t.isTouch=!1,t.isForcedRelative=!1,t.handleScroll())}}(this)),e.on("scrollEnd",function(e){return function(){return e.handleScroll()}}(this))}return t.prototype.scroller=null,t.prototype.scrollbarWidths=null,t.prototype.sprites=null,t.prototype.viewportRect=null,t.prototype.contentOffset=null,t.prototype.isHFollowing=!0,t.prototype.isVFollowing=!1,t.prototype.allowPointerEvents=!1,t.prototype.containOnNaturalLeft=!1,t.prototype.containOnNaturalRight=!1,t.prototype.minTravel=0,t.prototype.isTouch=!1,t.prototype.isForcedRelative=!1,t.prototype.setSprites=function(t){var r,o,n;if(this.clearSprites(),t instanceof e)return this.sprites=function(){var r,o,s;for(s=[],r=0,o=t.length;r<o;r++)n=t[r],s.push(new Q(e(n),this));return s}.call(this);for(r=0,o=t.length;r<o;r++)n=t[r],n.follower=this;return this.sprites=t},t.prototype.clearSprites=function(){var e,t,r,o;for(r=this.sprites,e=0,t=r.length;e<t;e++)o=r[e],o.clear();return this.sprites=[]},t.prototype.handleScroll=function(){return this.updateViewport(),this.updatePositions()},t.prototype.cacheDimensions=function(){var e,t,r,o;for(this.updateViewport(),this.scrollbarWidths=this.scroller.getScrollbarWidths(),this.contentOffset=this.scroller.canvas.el.offset(),r=this.sprites,e=0,t=r.length;e<t;e++)o=r[e],o.cacheDimensions()},t.prototype.updateViewport=function(){var e,t,r;return t=this.scroller,e=t.getScrollFromLeft(),r=t.getScrollTop(),this.viewportRect={left:e,right:e+t.getClientWidth(),top:r,bottom:r+t.getClientHeight()}},t.prototype.forceRelative=function(){var e,t,r,o,n;if(!this.isForcedRelative){for(this.isForcedRelative=!0,r=this.sprites,o=[],e=0,t=r.length;e<t;e++)n=r[e],n.doAbsolute?o.push(n.assignPosition()):o.push(void 0);return o}},t.prototype.clearForce=function(){var e,t,r,o,n;if(this.isForcedRelative&&!this.isTouch){for(this.isForcedRelative=!1,r=this.sprites,o=[],e=0,t=r.length;e<t;e++)n=r[e],o.push(n.assignPosition());return o}},t.prototype.update=function(){return this.cacheDimensions(),this.updatePositions()},t.prototype.updatePositions=function(){var e,t,r,o;for(r=this.sprites,e=0,t=r.length;e<t;e++)o=r[e],o.updatePosition()},t.prototype.getContentRect=function(e){return Se(e,this.contentOffset)},t.prototype.getBoundingRect=function(e){return be(e,this.contentOffset)},t}(),Q=function(){function e(e,t){this.el=e,this.follower=null!=t?t:null,this.isBlock="block"===this.el.css("display"),this.el.css("position","relative")}return e.prototype.follower=null,e.prototype.el=null,e.prototype.absoluteEl=null,e.prototype.naturalRect=null,e.prototype.parentRect=null,e.prototype.containerRect=null,e.prototype.isEnabled=!0,e.prototype.isHFollowing=!1,e.prototype.isVFollowing=!1,e.prototype.doAbsolute=!1,e.prototype.isAbsolute=!1,e.prototype.isCentered=!1,e.prototype.rect=null,e.prototype.isBlock=!1,e.prototype.naturalWidth=null,e.prototype.disable=function(){if(this.isEnabled)return this.isEnabled=!1,this.resetPosition(),this.unabsolutize()},e.prototype.enable=function(){if(!this.isEnabled)return this.isEnabled=!0,this.assignPosition()},e.prototype.clear=function(){return this.disable(),this.follower=null,this.absoluteEl=null},e.prototype.cacheDimensions=function(){var e,t,r,o,n,s,i,l;return o=!1,n=!1,r=!1,this.naturalWidth=this.el.width(),this.resetPosition(),t=this.follower,i=this.naturalRect=t.getBoundingRect(this.el),l=this.el.parent(),this.parentRect=t.getBoundingRect(l),e=this.containerRect=Ge(t.getContentRect(l),i),s=t.minTravel,t.containOnNaturalLeft&&(e.left=i.left),t.containOnNaturalRight&&(e.right=i.right),t.isHFollowing&&He(e)-He(i)>=s&&(r="center"===this.el.css("text-align"),o=!0),t.isVFollowing&&Ee(e)-Ee(i)>=s&&(n=!0),this.isHFollowing=o,this.isVFollowing=n,this.isCentered=r},e.prototype.updatePosition=function(){return this.computePosition(),this.assignPosition()},e.prototype.resetPosition=function(){return this.el.css({top:"",left:""})},e.prototype.computePosition=function(){var e,t,r,o,n,s,i,l;return i=this.follower.viewportRect,r=this.parentRect,e=this.containerRect,l=De(i,r),o=null,t=!1,l&&(o=de(this.naturalRect),s=De(o,r),(this.isCentered&&!Ke(i,r)||s&&!Ke(i,s))&&(t=!0,this.isHFollowing&&(this.isCentered?(n=He(o),o.left=(l.left+l.right)/2-n/2,o.right=o.left+n):_e(o,i)||(t=!1),_e(o,e)&&(t=!1)),this.isVFollowing&&(tt(o,i)||(t=!1),tt(o,e)&&(t=!1)),Ke(i,o)||(t=!1))),this.rect=o,this.doAbsolute=t},e.prototype.assignPosition=function(){var e,t;if(this.isEnabled)return this.rect?this.doAbsolute&&!this.follower.isForcedRelative?(this.absolutize(),this.absoluteEl.css({top:this.rect.top-this.follower.viewportRect.top+this.follower.scrollbarWidths.top,left:this.rect.left-this.follower.viewportRect.left+this.follower.scrollbarWidths.left,width:this.isBlock?this.naturalWidth:""})):(t=this.rect.top-this.naturalRect.top,e=this.rect.left-this.naturalRect.left,this.unabsolutize(),this.el.toggleClass("fc-following",Boolean(t||e)).css({top:t,left:e})):this.unabsolutize()},e.prototype.absolutize=function(){if(!this.isAbsolute)return this.absoluteEl||(this.absoluteEl=this.buildAbsoluteEl()),this.absoluteEl.appendTo(this.follower.scroller.el),this.el.css("visibility","hidden"),this.isAbsolute=!0},e.prototype.unabsolutize=function(){if(this.isAbsolute)return this.absoluteEl.detach(),this.el.css("visibility",""),this.isAbsolute=!1},e.prototype.buildAbsoluteEl=function(){var e;return e=this.el.clone().addClass("fc-following"),e.css({position:"absolute","z-index":1e3,"font-weight":this.el.css("font-weight"),"font-size":this.el.css("font-size"),"font-family":this.el.css("font-family"),"text-decoration":this.el.css("text-decoration"),color:this.el.css("color"),"padding-top":this.el.css("padding-top"),"padding-bottom":this.el.css("padding-bottom"),"padding-left":this.el.css("padding-left"),"padding-right":this.el.css("padding-right")}),this.follower.allowPointerEvents||e.css("pointer-events","none"),e},e}(),de=function(e){return{left:e.left,right:e.right,top:e.top,bottom:e.bottom}},He=function(e){return e.right-e.left},Ee=function(e){return e.bottom-e.top},Ke=function(e,t){return Je(e,t)&&Ze(e,t)},Je=function(e,t){return t.left>=e.left&&t.right<=e.right},Ze=function(e,t){return t.top>=e.top&&t.bottom<=e.bottom},_e=function(e,t){return e.left<t.left?(e.right=t.left+He(e),e.left=t.left,!0):e.right>t.right&&(e.left=t.right-He(e),e.right=t.right,!0)},tt=function(e,t){return e.top<t.top?(e.bottom=t.top+Ee(e),e.top=t.top,!0):e.bottom>t.bottom&&(e.top=t.bottom-Ee(e),e.bottom=t.bottom,!0)},Ge=function(e,t){return{left:Math.min(e.left,t.left),right:Math.max(e.right,t.right),top:Math.min(e.top,t.top),bottom:Math.max(e.bottom,t.bottom)}},n=function(t){function r(){return r.__super__.constructor.apply(this,arguments)}return rt(r,t),r.prototype.resourceManager=null,r.prototype.initialize=function(){return this.resourceManager=new L(this)},r.prototype.instantiateView=function(e){var t,r;return t=this.getViewSpec(e),r=t["class"],this.opt("resources")&&t.options.resources!==!1&&(t.queryResourceClass?r=t.queryResourceClass(t)||r:t.resourceClass&&(r=t.resourceClass)),new r(this,t)},r.prototype.getResources=function(){return Array.prototype.slice.call(this.resourceManager.topLevelResources)},r.prototype.addResource=function(e,t){var r;null==t&&(t=!1),r=this.resourceManager.addResource(e),t&&this.view.scrollToResource&&r.then(function(e){return function(t){return e.view.scrollToResource(t)}}(this))},r.prototype.removeResource=function(e){return this.resourceManager.removeResource(e)},r.prototype.refetchResources=function(){this.resourceManager.clear(),this.view.flash("initialResources")},r.prototype.rerenderResources=function(){this.resourceManager.resetCurrentResources()},r.prototype.isFootprintAllowed=function(e,t,o,n,s){var i,l;return("object"!=typeof o||(i=x.extractIds(o,this),!i.length||e instanceof G&&(l=e.resourceId,nt.call(i,l)>=0)))&&r.__super__.isFootprintAllowed.apply(this,arguments)},r.prototype.eventRangeToEventFootprints=function(e){var t,o,n,s,i,l;if(t=e.eventDef,i=t.getResourceIds(),i.length){for(l=[],o=0,n=i.length;o<n;o++)s=i[o],l.push(new g(new G(e.unzonedRange,t.isAllDay(),s),t,e.eventInstance));return l}return r.__super__.eventRangeToEventFootprints.apply(this,arguments)},r.prototype.getPeerEventInstances=function(e){var t,o;return o=e.getResourceIds(),t=r.__super__.getPeerEventInstances.apply(this,arguments),o.length?t.filter(function(e){var t,r,n;if(!e.def.resourceIds.length)return!0;for(t=0,r=o.length;t<r;t++)if(n=o[t],e.def.hasResourceId(n))return!0;return!1}):t},r.prototype.parseFootprints=function(e){var t,o,n,s,i,l,u,a,h;if(u=r.__super__.parseFootprints.apply(this,arguments),h=e.resourceIds||[],e.resourceId&&(h=[e.resourceId].concat(h)),h.length){for(t=[],o=0,s=h.length;o<s;o++)for(a=h[o],n=0,i=u.length;n<i;n++)l=u[n],t.push(new G(l.unzonedRange,l.isAllDay,a));return t}return u},r.prototype.footprintContainsFootprint=function(e,t){return(!(e instanceof G)||t instanceof G&&t.resourceId===e.resourceId)&&r.__super__.footprintContainsFootprint.apply(this,arguments)},r.prototype.footprintsIntersect=function(e,t){return!(e instanceof G&&t instanceof G&&e.resourceId!==t.resourceId)&&r.__super__.footprintsIntersect.apply(this,arguments)},r.prototype.buildCurrentBusinessFootprints=function(e){var t,o,n,s,i,l,u,a,h,c,p,d;for(o=this.resourceManager.getFlatResources(),t=!1,s=0,u=o.length;s<u;s++)d=o[s],d.businessHours&&(t=!0);if(t){for(n=[],i=0,a=o.length;i<a;i++)for(d=o[i],p=this._buildCurrentBusinessFootprints(e,d.businessHours||this.opt("businessHours")),l=0,h=p.length;l<h;l++)c=p[l],n.push(new G(c.unzonedRange,c.isAllDay,d.id));return n}return r.__super__.buildCurrentBusinessFootprints.call(this,e)},r.prototype.buildSelectFootprint=function(e,t,o){var n;return n=r.__super__.buildSelectFootprint.apply(this,arguments),o?new G(n.unzonedRange,n.isAllDay,o):n},r.prototype.getResourceById=function(e){return this.resourceManager.getResourceById(e)},r.prototype.getEventResourceId=function(e){return this.getEventResourceIds(e)[0]},r.prototype.getEventResourceIds=function(e){var t;return t=this.eventManager.getEventDefByUid(e._id),t?t.getResourceIds():[]},r.prototype.setEventResourceId=function(e,t){return this.setEventResourceIds(e,t?[t]:[])},r.prototype.setEventResourceIds=function(e,t){var r,o;if(r=this.eventManager.getEventDefByUid(e._id))return r.resourceIds=function(){var e,r,n;for(n=[],e=0,r=t.length;e<r;e++)o=t[e],n.push(x.normalizeId(o));return n}()},r.prototype.getResourceEvents=function(t){var r;return r="object"==typeof t?t:this.getResourceById(t),r?this.clientEvents(function(t){return function(o){return e.inArray(r.id,t.getEventResourceIds(o))!==-1}}(this)):[]},r.prototype.getEventResource=function(e){return this.getEventResources(e)[0]},r.prototype.getEventResources=function(e){var t,r,o,n,s,i,l;if(t="object"==typeof e?e:this.clientEvents(e)[0],l=[],t)for(n=this.getEventResourceIds(t),r=0,o=n.length;r<o;r++)i=n[r],s=this.getResourceById(i),s&&l.push(s);return l},r}(o),o.prototype=n.prototype,Ne=se.prototype.setElement,Ve=se.prototype.removeElement,Ue=se.prototype.onBaseRender,o.defaults.refetchResourcesOnNavigate=!1,se.prototype.canHandleSpecificResources=!1,se.prototype.isDestroying=!1,se.prototype.setElement=function(){return Ne.apply(this,arguments),this.watchResources()},se.prototype.removeElement=function(){return this.isDestroying=!0,this.unwatchResources(),Ve.apply(this,arguments),this.isDestroying=!1},se.prototype.onBaseRender=function(){return Ye(this.calendar.opt("schedulerLicenseKey"),this.el),Ue.apply(this,arguments)},se.prototype.watchResources=function(){var e,t;return t=[],e=["initialResources"],this.opt("refetchResourcesOnNavigate")&&t.push("dateProfile"),this.opt("filterResourcesWithEvents")&&e.push("currentEvents"),this.watch("initialResources",t,function(e){return function(t){return e.getInitialResources(t.dateProfile)}}(this)),this.watch("bindingResources",e,function(e){return function(t){e.bindResourceChanges(t.currentEvents),e.setResources(t.initialResources,t.currentEvents)}}(this),function(e){return function(){e.unbindResourceChanges(),e.unsetResources()}}(this))},se.prototype.unwatchResources=function(){return this.unwatch("initialResources"),this.unwatch("bindingResources")},se.prototype.getInitialResources=function(e){var t;return t=this.calendar,e?t.resourceManager.getResources(t.msToMoment(e.activeUnzonedRange.startMs,e.isRangeAllDay),t.msToMoment(e.activeUnzonedRange.endMs,e.isRangeAllDay)):t.resourceManager.getResources()},se.prototype.bindResourceChanges=function(e){return this.listenTo(this.calendar.resourceManager,{set:function(t){return function(r){return t.setResources(r,e)}}(this),unset:function(e){return function(){return e.unsetResources()}}(this),reset:function(t){return function(r){return t.resetResources(r,e)}}(this),add:function(t){return function(r,o){return t.addResource(r,o,e)}}(this),remove:function(t){return function(r,o){return t.removeResource(r,o,e)}}(this)})},se.prototype.unbindResourceChanges=function(){return this.stopListeningTo(this.calendar.resourceManager)},se.watch("displayingEvents",["displayingDates","hasEvents","currentResources"],function(e){return this.requestEventsRender(this.get("currentEvents"))},function(){return this.requestEventsUnrender()}),se.prototype.setResources=function(e,t){return t&&(e=this.filterResourcesWithEvents(e,t)),this.set("currentResources",e),this.set("hasResources",!0),this.handleResourcesSet(e)},se.prototype.unsetResources=function(){return this.unset("currentResources"),this.unset("hasResources"),this.handleResourcesUnset()},se.prototype.resetResources=function(e,t){return this.startBatchRender(),this.unsetResources(),this.setResources(e,t),this.stopBatchRender()},se.prototype.addResource=function(e,t,r){var o;return this.canHandleSpecificResources?(r&&(o=this.filterResourcesWithEvents([e],r),o.length||(e=null)),e?(this.set("currentResources",t),this.handleResourceAdd(e)):void 0):this.resetResources(t,r)},se.prototype.removeResource=function(e,t,r){return this.canHandleSpecificResources?(this.set("currentResources",t),this.handleResourceRemove(e)):this.resetResources(t,r)},se.prototype.handleResourcesSet=function(e){},se.prototype.handleResourcesUnset=function(e){},se.prototype.handleResourceAdd=function(e){},se.prototype.handleResourceRemove=function(e){},se.prototype.filterResourcesWithEvents=function(e,t){var r,o,n,s,i,l,u,a,h,c,p;p={};for(n in t)for(o=t[n],a=o.eventInstances,s=0,l=a.length;s<l;s++)for(r=a[s],h=r.def.getResourceIds(),i=0,u=h.length;i<u;i++)c=h[i],p[c]=!0;return ie(e,p)},ie=function(e,t){var r,o,n,s,i,l;for(n=[],s=0,i=e.length;s<i;s++)l=e[s],l.children.length?(r=ie(l.children,t),(r.length||t[l.id])&&(o=Object.create(l),o.children=r,n.push(o))):t[l.id]&&n.push(l);return n},ke=w.prototype.getSegCustomClasses,Ae=w.prototype.getSegDefaultBackgroundColor,Oe=w.prototype.getSegDefaultBorderColor,qe=w.prototype.getSegDefaultTextColor,w.prototype.getSegCustomClasses=function(e){var t,r,o,n,s;for(t=ke.apply(this,arguments),n=this.getSegResources(e),r=0,o=n.length;r<o;r++)s=n[r],t=t.concat(s.eventClassName||[]);return t},w.prototype.getSegDefaultBackgroundColor=function(e){var t,r,o,n,s;for(n=this.getSegResources(e),r=0,o=n.length;r<o;r++)for(t=n[r];t;){if(s=t.eventBackgroundColor||t.eventColor)return s;t=t._parent}return Ae.apply(this,arguments)},w.prototype.getSegDefaultBorderColor=function(e){var t,r,o,n,s;for(n=this.getSegResources(e),r=0,o=n.length;r<o;r++)for(t=n[r];t;){if(s=t.eventBorderColor||t.eventColor)return s;t=t._parent}return Oe.apply(this,arguments)},w.prototype.getSegDefaultTextColor=function(e){var t,r,o,n,s;for(n=this.getSegResources(e),r=0,o=n.length;r<o;r++)for(t=n[r];t;){if(s=t.eventTextColor)return s;t=t._parent}return qe.apply(this,arguments)},w.prototype.getSegResources=function(e){return e.resource?[e.resource]:this.view.calendar.getEventResources(e.footprint.getEventLegacy())},Le=d.prototype.clone,Pe=d.prototype.toLegacy,We=d.prototype.applyOtherRawProps,d.prototype.standardPropMap.resourceEditable=!0,d.prototype.resourceIds=null,d.prototype.resourceEditable=null,d.prototype.hasResourceId=function(e){return nt.call(this.resourceIds,e)>=0},d.prototype.removeResourceId=function(e){return Xe(this.resourceIds,e)},d.prototype.addResourceId=function(e){if(!this.hasResourceId(e))return this.resourceIds.push(e)},d.prototype.getResourceIds=function(){return this.resourceIds?this.resourceIds.slice():[]},d.prototype.clone=function(){var e;return e=Le.apply(this,arguments),e.resourceIds=this.getResourceIds(),e},d.prototype.toLegacy=function(){var e,t;return e=Pe.apply(this,arguments),t=this.getResourceIds(),e.resourceId=1===t.length?t[0]:null,e.resourceIds=t.length>1?t:null,null!=this.resourceEditable&&(e.resourceEditable=this.resourceEditable),e},d.prototype.applyOtherRawProps=function(t){return t=e.extend({},t),this.resourceIds=x.extractIds(t,this.source.calendar),delete t.resourceId,delete t.resourceIds,We.apply(this,arguments)},v.prototype.standardPropMap.resourceEditable=!0,ze=f.prototype.mutateSingle,f.prototype.oldResourceId=null,f.prototype.newResourceId=null,f.prototype.mutateSingle=function(e){var t,r;return r=ze.apply(this,arguments),t=null,this.oldResourceId&&e.hasResourceId(this.oldResourceId)&&(t=e.getResourceIds(),e.removeResourceId(this.oldResourceId),e.addResourceId(this.newResourceId)),function(o){return function(){if(r(),t)return e.resourceIds=t}}(this)},x=function(){function e(){}return e}(),x.extractIds=function(e,t){var r,o,n,s,i,l;if(i=t.opt("eventResourceField")||"resourceId",l=[],e.resourceIds)for(s=e.resourceIds,r=0,o=s.length;r<o;r++)n=s[r],l.push(x.normalizeId(n));return null!=e[i]&&l.push(x.normalizeId(e[i])),l},x.normalizeId=function(e){return String(e)},L=function(t){function r(e){this.calendar=e,this.initializeCache()}return rt(r,t),r.mixin(c),r.resourceGuid=1,r.ajaxDefaults={dataType:"json",cache:!1},r.prototype.calendar=null,r.prototype.fetchId=0,r.prototype.topLevelResources=null,r.prototype.resourcesById=null,r.prototype.fetching=null,r.prototype.currentStart=null,r.prototype.currentEnd=null,r.prototype.getResources=function(e,t){var r;return r=!e&&!this.currentStart||e&&this.currentStart&&e.isSame(this.currentStart)&&t.isSame(this.currentEnd),this.fetching&&r?this.fetching:this.fetchResources(e,t)},r.prototype.fetchResources=function(e,t){var r;return r=this.fetchId+=1,this.fetching=I.construct(function(o){return function(n,s){return o.fetchResourceInputs(function(e){return r===o.fetchId?(o.setResources(e),n(o.topLevelResources)):s()},e,t)}}(this))},r.prototype.fetchResourceInputs=function(t,o,n){var s,i,l,u;switch(s=this.calendar,l=s.opt("resources"),u=s.opt("timezone"),"string"===e.type(l)&&(l={url:l}),e.type(l)){case"function":return this.calendar.pushLoading(),l(function(e){return function(r){return e.calendar.popLoading(),t(r)}}(this),o,n,s.opt("timezone"));case"object":return s.pushLoading(),i={},o&&n&&(i[s.opt("startParam")]=o.format(),i[s.opt("endParam")]=n.format(),u&&"local"!==u&&(i[s.opt("timezoneParam")]=u)),e.ajax(e.extend({data:i},r.ajaxDefaults,l)).then(function(e){return function(e){return s.popLoading(),t(e)}}(this));case"array":return t(l);default:return t([])}},r.prototype.getResourceById=function(e){return this.resourcesById[e]},r.prototype.getFlatResources=function(){var e,t;t=[];for(e in this.resourcesById)t.push(this.resourcesById[e]);return t},r.prototype.initializeCache=function(){return this.topLevelResources=[],this.resourcesById={}},r.prototype.setResources=function(e){var t,r,o,n,s,i,l;for(l=Boolean(this.topLevelResources),this.initializeCache(),s=function(){var t,r,o;for(o=[],t=0,r=e.length;t<r;t++)n=e[t],o.push(this.buildResource(n));return o}.call(this),i=function(){var e,t,r;for(r=[],e=0,t=s.length;e<t;e++)o=s[e],this.addResourceToIndex(o)&&r.push(o);return r}.call(this),t=0,r=i.length;t<r;t++)o=i[t],this.addResourceToTree(o);return l?this.trigger("reset",this.topLevelResources):this.trigger("set",this.topLevelResources),this.calendar.publiclyTrigger("resourcesSet",[this.topLevelResources])},r.prototype.resetCurrentResources=function(){if(this.topLevelResources)return this.trigger("reset",this.topLevelResources)},r.prototype.clear=function(){return this.topLevelResources=null,this.fetching=null},r.prototype.addResource=function(e){return this.fetching?this.fetching.then(function(t){return function(){var r;return r=t.buildResource(e),!!t.addResourceToIndex(r)&&(t.addResourceToTree(r),t.trigger("add",r,t.topLevelResources),r)}}(this)):I.reject()},r.prototype.addResourceToIndex=function(e){var t,r,o,n;if(this.resourcesById[e.id])return!1;for(this.resourcesById[e.id]=e,n=e.children,r=0,o=n.length;r<o;r++)t=n[r],this.addResourceToIndex(t);return!0},r.prototype.addResourceToTree=function(e){var t,r,o,n;if(!e.parent){if(r=String(null!=(o=e.parentId)?o:"")){if(t=this.resourcesById[r],!t)return!1;e.parent=t,n=t.children}else n=this.topLevelResources;n.push(e)}return!0},r.prototype.removeResource=function(e){var t;return t="object"==typeof e?e.id:e,this.fetching?this.fetching.then(function(e){return function(){var r;return r=e.removeResourceFromIndex(t),r&&(e.removeResourceFromTree(r),e.trigger("remove",r,e.topLevelResources)),r}}(this)):I.reject()},r.prototype.removeResourceFromIndex=function(e){var t,r,o,n,s;if(s=this.resourcesById[e]){for(delete this.resourcesById[e],n=s.children,r=0,o=n.length;r<o;r++)t=n[r],this.removeResourceFromIndex(t.id);return s}return!1},r.prototype.removeResourceFromTree=function(e,t){var r,o,n,s;for(null==t&&(t=this.topLevelResources),r=o=0,n=t.length;o<n;r=++o){if(s=t[r],s===e)return e.parent=null,t.splice(r,1),!0;if(this.removeResourceFromTree(e,s.children))return!0}return!1},r.prototype.buildResource=function(t){var o,n,s,i,l;return l=e.extend({},t),l.id=String(null!=(i=t.id)?i:"_fc"+r.resourceGuid++),s=t.eventClassName,l.eventClassName=function(){switch(e.type(s)){case"string":return s.split(/\s+/);case"array":return s;default:return[]}}(),l.children=function(){var e,r,s,i,u;for(i=null!=(s=t.children)?s:[],u=[],e=0,r=i.length;e<r;e++)n=i[e],o=this.buildResource(n),o.parent=l,u.push(o);return u}.call(this),l},r}(s),o.defaults.filterResourcesWithEvents=!1,U={isResourcesRendered:!1,resourceTextFunc:null,setElement:function(){
return se.prototype.setElement.apply(this,arguments),this.watch("displayingResources",["hasResources"],function(e){return function(){return e.requestResourcesRender(e.get("currentResources"))}}(this),function(e){return function(){return e.requestResourcesUnrender()}}(this)),this.watch("displayingEvents",["displayingDates","hasEvents","displayingResources"],function(e){return function(){return e.requestEventsRender(e.get("currentEvents"))}}(this),function(e){return function(){return e.requestEventsUnrender()}}(this))},queryScroll:function(){var t;return t=se.prototype.queryScroll.apply(this,arguments),this.isResourcesRendered&&e.extend(t,this.queryResourceScroll()),t},applyScroll:function(e){if(se.prototype.applyScroll.apply(this,arguments),this.isResourcesRendered)return this.applyResourceScroll(e)},queryResourceScroll:function(){return{}},applyResourceScroll:function(){},bindBaseRenderHandlers:function(){var e,t;return t=!1,e=!1,this.on("resourcesRendered.baseHandler",function(){if(!t&&(t=!0,e))return this.onBaseRender()}),this.on("datesRendered.baseHandler",function(){if(!e&&(e=!0,t))return this.onBaseRender()}),this.on("before:resourcesUnrendered.baseHandler",function(){if(t)return t=!1}),this.on("before:datesUnrendered.baseHandler",function(){if(e)return e=!1,this.onBeforeBaseUnrender()})},handleResourcesSet:function(e){},handleResourcesUnset:function(){},handleResourceAdd:function(e){return this.requestResourceRender(e)},handleResourceRemove:function(e){return this.requestResourceUnrender(e)},requestResourcesRender:function(e){return this.renderQueue.queue(function(t){return function(){return t.executeResourcesRender(e)}}(this),"resource","init")},requestResourcesUnrender:function(){return this.renderQueue.queue(function(e){return function(){return e.executeResourcesUnrender()}}(this),"resource","destroy")},requestResourceRender:function(e){return this.renderQueue.queue(function(t){return function(){return t.executeResourceRender(e)}}(this),"resource","add")},requestResourceUnrender:function(e){return this.renderQueue.queue(function(t){return function(){return t.executeResourceUnrender(e)}}(this),"resource","remove")},executeResourcesRender:function(e){return this.renderResources(e),this.isResourcesRendered=!0,this.trigger("resourcesRendered")},executeResourcesUnrender:function(){return this.trigger("before:resourcesUnrendered"),this.unrenderResources(),this.isResourcesRendered=!1},executeResourceRender:function(e){return this.renderResource(e)},executeResourceUnrender:function(e){return this.unrenderResource(e)},renderResources:function(e){},unrenderResources:function(){},renderResource:function(e){},unrenderResource:function(e){},isEventDefDraggable:function(e){return this.isEventDefResourceEditable(e)||se.prototype.isEventDefDraggable.call(this,e)},isEventDefResourceEditable:function(e){var t,r,o;return null!=(t=null!=(r=null!=(o=e.resourceEditable)?o:(e.source||{}).resourceEditable)?r:this.opt("eventResourceEditable"))?t:this.isEventDefGenerallyEditable(e)},getResourceText:function(e){return this.getResourceTextFunc()(e)},getResourceTextFunc:function(){var e;return this.resourceTextFunc?this.resourceTextFunc:(e=this.opt("resourceText"),"function"!=typeof e&&(e=function(e){return e.title||e.id}),this.resourceTextFunc=e)},triggerDayClick:function(e,t,r){var o;return o=this.calendar.footprintToDateProfile(e),this.publiclyTrigger("dayClick",{context:t,args:[o.start,r,this,this.calendar.resourceManager.getResourceById(e.resourceId)]})},triggerSelect:function(e,t){var r;return r=this.calendar.footprintToDateProfile(e),this.publiclyTrigger("select",{context:this,args:[r.start,r.end,t,this,this.calendar.resourceManager.getResourceById(e.resourceId)]})},triggerExternalDrop:function(e,t,r,o,n){if(this.publiclyTrigger("drop",{context:r[0],args:[e.dateProfile.start.clone(),o,n,e.getResourceIds()[0],this]}),t)return this.publiclyTrigger("eventReceive",{context:this,args:[e.buildInstance().toLegacy(),this]})}},ne=e.extend({},U,{setElement:function(){var e,t,r;return U.setElement.apply(this,arguments),t=!1,e=!1,r=!1,this.watch("dateProfileOnly",["dateProfile"],function(e){return function(){return r=!0}}(this)),this.watch("displayingDatesOnly",["dateProfile","?currentResources"],function(e){return function(o){if(!o.currentResources&&!e.isDestroying)return t=!0,e.renderQueue.queue(function(){return e.executeDateRender(o.dateProfile,!r),r=!1},"date","init")}}(this),function(e){return function(){if(t)return t=!1,e.renderQueue.queue(function(){return e.executeDateUnrender()},"date","destroy")}}(this)),this.watch("displayingDates",["dateProfile","currentResources"],function(t){return function(o){if(!t.isDestroying)return e=!0,t.renderQueue.queue(function(){return t.setResourcesOnGrids(o.currentResources),t.executeDateRender(o.dateProfile,!r),r=!1,t.trigger("resourcesRendered")},"resource","init")}}(this),function(t){return function(){if(e)return e=!1,t.renderQueue.queue(function(){return t.trigger("before:resourcesUnrendered"),t.unsetResourcesOnGrids(),t.executeDateUnrender()},"resource","destroy")}}(this)),this.watch("displayingResources",["displayingDates"],function(e){return function(){return!0}}(this))},setResourcesOnGrids:function(e){},unsetResourcesOnGrids:function(){}}),W={allowCrossResource:!0,eventRangeToEventFootprints:function(e){var t,r,o,n,s,i;if(t=e.eventDef,s=t.getResourceIds(),s.length){for(i=[],r=0,o=s.length;r<o;r++)n=s[r],i.push(new g(new G(e.unzonedRange,t.isAllDay(),n),t,e.eventInstance));return i}return t.hasBgRendering()?w.prototype.eventRangeToEventFootprints.apply(this,arguments):[]},computeEventDropMutation:function(e,t,r){var o;return o=this.view.isEventDefStartEditable(r)?w.prototype.computeEventDropMutation.apply(this,arguments):new f,this.view.isEventDefResourceEditable(r)&&e.resourceId!==t.resourceId&&(o.oldResourceId=e.resourceId,o.newResourceId=t.resourceId),o},computeExternalDrop:function(e,t){var r;return r=w.prototype.computeExternalDrop.apply(this,arguments),r.addResourceId(e.resourceId),r},computeEventStartResizeMutation:function(e,t,r){if(this.allowCrossResource||e.resourceId===t.resourceId)return w.prototype.computeEventStartResizeMutation.apply(this,arguments)},computeEventEndResizeMutation:function(e,t,r){if(this.allowCrossResource||e.resourceId===t.resourceId)return w.prototype.computeEventEndResizeMutation.apply(this,arguments)},computeSelectionFootprint:function(e,t){var r;if(this.allowCrossResource||e.resourceId===t.resourceId)return r=w.prototype.computeSelectionFootprint.apply(this,arguments),new G(r.unzonedRange,r.isAllDay,e.resourceId)}},z={flattenedResources:null,resourceCnt:0,datesAboveResources:!1,allowCrossResource:!1,setResources:function(e){return this.flattenedResources=this.flattenResources(e),this.resourceCnt=this.flattenedResources.length,this.updateDayTableCols()},unsetResources:function(){return this.flattenedResources=null,this.resourceCnt=0,this.updateDayTableCols()},flattenResources:function(e){var t,r,o,n;return r=this.opt("resourceOrder"),r?(t=je(r),n=function(e,r){return ae(e,r,t)}):n=null,o=[],this.accumulateResources(e,n,o),o},accumulateResources:function(e,t,r){var o,n,s,i,l;for(t?(l=e.slice(0),l.sort(t)):l=e,i=[],o=0,n=l.length;o<n;o++)s=l[o],r.push(s),i.push(this.accumulateResources(s.children,t,r));return i},updateDayTableCols:function(){return this.datesAboveResources=this.opt("groupByDateAndResource"),R.DayTableMixin.updateDayTableCols.call(this)},computeColCnt:function(){return(this.resourceCnt||1)*this.daysPerRow},getColDayIndex:function(e){return this.isRTL&&(e=this.colCnt-1-e),this.datesAboveResources?Math.floor(e/(this.resourceCnt||1)):e%this.daysPerRow},getColResource:function(e){return this.flattenedResources[this.getColResourceIndex(e)]},getColResourceIndex:function(e){return this.isRTL&&(e=this.colCnt-1-e),this.datesAboveResources?e%(this.resourceCnt||1):Math.floor(e/this.daysPerRow)},indicesToCol:function(e,t){var r;return r=this.datesAboveResources?t*(this.resourceCnt||1)+e:e*this.daysPerRow+t,this.isRTL&&(r=this.colCnt-1-r),r},renderHeadTrHtml:function(){return this.resourceCnt?this.daysPerRow>1?this.datesAboveResources?this.renderHeadDateAndResourceHtml():this.renderHeadResourceAndDateHtml():this.renderHeadResourceHtml():R.DayTableMixin.renderHeadTrHtml.call(this)},renderHeadResourceHtml:function(){var e,t,r,o,n;for(n=[],r=this.flattenedResources,e=0,t=r.length;e<t;e++)o=r[e],n.push(this.renderHeadResourceCellHtml(o));return this.wrapTr(n,"renderHeadIntroHtml")},renderHeadResourceAndDateHtml:function(){var e,t,r,o,n,s,i,l,u,a;for(a=[],t=[],i=this.flattenedResources,o=0,s=i.length;o<s;o++)for(u=i[o],a.push(this.renderHeadResourceCellHtml(u,null,this.daysPerRow)),r=n=0,l=this.daysPerRow;n<l;r=n+=1)e=this.dayDates[r].clone(),t.push(this.renderHeadResourceDateCellHtml(e,u));return this.wrapTr(a,"renderHeadIntroHtml")+this.wrapTr(t,"renderHeadIntroHtml")},renderHeadDateAndResourceHtml:function(){var e,t,r,o,n,s,i,l,u,a;for(t=[],a=[],r=o=0,i=this.daysPerRow;o<i;r=o+=1)for(e=this.dayDates[r].clone(),t.push(this.renderHeadDateCellHtml(e,this.resourceCnt)),l=this.flattenedResources,n=0,s=l.length;n<s;n++)u=l[n],a.push(this.renderHeadResourceCellHtml(u,e));return this.wrapTr(t,"renderHeadIntroHtml")+this.wrapTr(a,"renderHeadIntroHtml")},renderHeadResourceCellHtml:function(e,t,r){return'<th class="fc-resource-cell" data-resource-id="'+e.id+'"'+(t?' data-date="'+t.format("YYYY-MM-DD")+'"':"")+(r>1?' colspan="'+r+'"':"")+">"+Ie(this.view.getResourceText(e))+"</th>"},renderHeadResourceDateCellHtml:function(e,t,r){return this.renderHeadDateCellHtml(e,r,'data-resource-id="'+t.id+'"')},processHeadResourceEls:function(t){return t.find(".fc-resource-cell").each(function(t){return function(r,o){var n;return n=t.datesAboveResources?t.getColResource(r):t.flattenedResources[t.isRTL?t.flattenedResources.length-1-r:r],t.publiclyTrigger("resourceRender",{context:n,args:[n,e(o),e(),t.view]})}}(this))},renderBgCellsHtml:function(e){var t,r,o,n,s,i;if(this.resourceCnt){for(o=[],t=n=0,s=this.colCnt;n<s;t=n+=1)r=this.getCellDate(e,t),i=this.getColResource(t),o.push(this.renderResourceBgCellHtml(r,i));return o.join("")}return R.DayTableMixin.renderBgCellsHtml.call(this,e)},renderResourceBgCellHtml:function(e,t){return this.renderBgCellHtml(e,'data-resource-id="'+t.id+'"')},wrapTr:function(e,t){return this.isRTL?(e.reverse(),"<tr>"+e.join("")+this[t]()+"</tr>"):"<tr>"+this[t]()+e.join("")+"</tr>"},buildBusinessHourEventFootprints:function(e){var t,r,o,n,s,i,l,u,a;if(this.flattenedResources){for(t=[],u=this.flattenedResources,r=0,n=u.length;r<n;r++)for(a=u[r],l=this._buildBusinessHourEventFootprints(e,a.businessHours||this.view.calendar.opt("businessHours")),o=0,s=l.length;o<s;o++)i=l[o],t.push(new g(new G(i.componentFootprint.unzonedRange,i.componentFootprint.isAllDay,a.id),i.eventDef,i.eventInstance));return t}return w.prototype.buildBusinessHourEventFootprints.apply(this,arguments)}},M=function(t){function r(){return r.__super__.constructor.apply(this,arguments)}return rt(r,t),r.mixin(W),r.mixin(z),r.prototype.getHitFootprint=function(e){var t;return t=r.__super__.getHitFootprint.apply(this,arguments),this.resourceCnt?new G(t.unzonedRange,t.isAllDay,this.getColResource(e.col).id):t},r.prototype.componentFootprintToSegs=function(t){var r,o,n,s,i,l,u,a,h,c,p,d,f;if(h=this.resourceCnt,o=this.datesAboveResources?this.sliceRangeByDay(t.unzonedRange):this.sliceRangeByRow(t.unzonedRange),h){for(d=[],s=0,u=o.length;s<u;s++)for(f=o[s],c=i=0,a=h;i<a;c=i+=1)p=this.flattenedResources[c],t instanceof G&&t.resourceId!==p.id||(r=e.extend({},f),r.resource=p,this.isRTL?(r.leftCol=this.indicesToCol(c,f.lastRowDayIndex),r.rightCol=this.indicesToCol(c,f.firstRowDayIndex)):(r.leftCol=this.indicesToCol(c,f.firstRowDayIndex),r.rightCol=this.indicesToCol(c,f.lastRowDayIndex)),d.push(r));return d}for(n=0,l=o.length;n<l;n++)f=o[n],this.isRTL?(f.leftCol=f.lastRowDayIndex,f.rightCol=f.firstRowDayIndex):(f.leftCol=f.firstRowDayIndex,f.rightCol=f.lastRowDayIndex);return o},r}(R.DayGrid),A=function(t){function r(){return r.__super__.constructor.apply(this,arguments)}return rt(r,t),r.mixin(W),r.mixin(z),r.prototype.getHitFootprint=function(e){var t;return t=r.__super__.getHitFootprint.apply(this,arguments),this.resourceCnt?new G(t.unzonedRange,t.isAllDay,this.getColResource(e.col).id):t},r.prototype.componentFootprintToSegs=function(t){var r,o,n,s,i,l,u,a,h,c,p,d,f;if(h=this.resourceCnt,o=this.sliceRangeByTimes(t.unzonedRange),h){for(d=[],s=0,u=o.length;s<u;s++)for(f=o[s],c=i=0,a=h;i<a;c=i+=1)p=this.flattenedResources[c],t instanceof G&&t.resourceId!==p.id||(r=e.extend({},f),r.resource=p,r.col=this.indicesToCol(c,f.dayIndex),d.push(r));return d}for(n=0,l=o.length;n<l;n++)f=o[n],f.col=f.dayIndex;return o},r}(R.TimeGrid),G=function(e){function t(e,r,o){t.__super__.constructor.apply(this,arguments),this.resourceId=o}return rt(t,e),t.prototype.resourceId=null,t.prototype.toLegacy=function(e){var r;return r=t.__super__.toLegacy.apply(this,arguments),r.resourceId=this.resourceId,r},t}(l),ee=function(e){function r(){return r.__super__.constructor.apply(this,arguments)}return rt(r,e),r.prototype.timeGrid=null,r.prototype.isScrolled=!1,r.prototype.usesMinMaxTime=!0,r.prototype.initialize=function(){return this.timeGrid=this.instantiateGrid(),this.addChild(this.timeGrid)},r.prototype.instantiateGrid=function(){return new Z(this)},r.prototype.setDateProfileForRendering=function(e){return r.__super__.setDateProfileForRendering.apply(this,arguments),this.timeGrid.initScaleProps(),this.timeGrid.setRange(this.renderUnzonedRange)},r.prototype.getFallbackDuration=function(){return this.timeGrid.computeFallbackDuration()},r.prototype.renderSkeleton=function(){return this.el.addClass("fc-timeline"),this.opt("eventOverlap")===!1&&this.el.addClass("fc-no-overlap"),this.el.html(this.renderSkeletonHtml()),this.renderTimeGridSkeleton()},r.prototype.renderSkeletonHtml=function(){var e;return e=this.calendar.theme,'<table class="'+e.getClass("tableGrid")+'"> <thead class="fc-head"> <tr> <td class="fc-time-area '+e.getClass("widgetHeader")+'"></td> </tr> </thead> <tbody class="fc-body"> <tr> <td class="fc-time-area '+e.getClass("widgetContent")+'"></td> </tr> </tbody> </table>'},r.prototype.renderTimeGridSkeleton=function(){return this.timeGrid.headEl=this.el.find("thead .fc-time-area"),this.timeGrid.setElement(this.el.find("tbody .fc-time-area")),this.isScrolled=!1,this.timeGrid.bodyScroller.on("scroll",Qe(this,"handleBodyScroll"))},r.prototype.handleBodyScroll=function(e,t){if(e){if(!this.isScrolled)return this.isScrolled=!0,this.el.addClass("fc-scrolled")}else if(this.isScrolled)return this.isScrolled=!1,this.el.removeClass("fc-scrolled")},r.prototype.unrenderSkeleton=function(){return this.timeGrid.removeElement(),this.handleBodyScroll(0),r.__super__.unrenderSkeleton.apply(this,arguments)},r.prototype.renderDates=function(){return this.timeGrid.renderDates()},r.prototype.unrenderDates=function(){return this.timeGrid.unrenderDates()},r.prototype.getNowIndicatorUnit=function(){return this.timeGrid.getNowIndicatorUnit()},r.prototype.updateWidth=function(){return this.timeGrid.updateWidth()},r.prototype.setHeight=function(e,t){var r;return r=t?"auto":e-this.timeGrid.headHeight()-this.queryMiscHeight(),this.timeGrid.bodyScroller.setHeight(r)},r.prototype.queryMiscHeight=function(){return this.el.outerHeight()-this.timeGrid.headScroller.el.outerHeight()-this.timeGrid.bodyScroller.el.outerHeight()},r.prototype.computeInitialDateScroll=function(){var e,r;return e=0,this.timeGrid.isTimeScale&&(r=this.opt("scrollTime"),r&&(r=t.duration(r),e=this.timeGrid.dateToCoord(this.activeUnzonedRange.getStart().time(r)))),{left:e}},r.prototype.queryDateScroll=function(){return{left:this.timeGrid.bodyScroller.getScrollLeft()}},r.prototype.applyDateScroll=function(e){if(null!=e.left)return this.timeGrid.headScroller.setScrollLeft(e.left),this.timeGrid.bodyScroller.setScrollLeft(e.left)},r.prototype.renderEventsPayload=function(e){return this.timeGrid.renderEventsPayload(e),this.updateWidth()},r.prototype.unrenderEvents=function(){return this.timeGrid.unrenderEvents(),this.updateWidth()},r}(se),fe=R.cssToStr,Z=function(t){function r(){r.__super__.constructor.apply(this,arguments),this.slotWidth=this.opt("slotWidth")}return rt(r,t),r.prototype.unzonedStart=null,r.prototype.unzonedEnd=null,r.prototype.slotDates=null,r.prototype.slotCnt=null,r.prototype.snapCnt=null,r.prototype.snapsPerSlot=null,r.prototype.snapDiffToIndex=null,r.prototype.snapIndexToDiff=null,r.prototype.headEl=null,r.prototype.slatContainerEl=null,r.prototype.slatEls=null,r.prototype.containerCoordCache=null,r.prototype.slatCoordCache=null,r.prototype.slatInnerCoordCache=null,r.prototype.headScroller=null,r.prototype.bodyScroller=null,r.prototype.joiner=null,r.prototype.follower=null,r.prototype.eventTitleFollower=null,r.prototype.timeWindowMs=null,r.prototype.slotDuration=null,r.prototype.snapDuration=null,r.prototype.duration=null,r.prototype.labelInterval=null,r.prototype.headerFormats=null,r.prototype.isTimeScale=null,r.prototype.largeUnit=null,r.prototype.emphasizeWeeks=!1,r.prototype.titleFollower=null,r.prototype.segContainerEl=null,r.prototype.segContainerHeight=null,r.prototype.bgSegContainerEl=null,r.prototype.helperEls=null,r.prototype.innerEl=null,r.prototype.isValidDate=function(e){var t;return!this.view.isHiddenDay(e)&&(!this.isTimeScale||(t=e.time()-this.view.minTime,t=(t%864e5+864e5)%864e5,t<this.timeWindowMs))},r.prototype.computeDisplayEventTime=function(){return!this.isTimeScale},r.prototype.computeDisplayEventEnd=function(){return!1},r.prototype.computeEventTimeFormat=function(){return this.opt("extraSmallTimeFormat")},r.prototype.normalizeGridDate=function(e){var t;return this.isTimeScale?(t=e.clone(),t.hasTime()||t.time(0)):(t=e.clone().stripTime(),this.largeUnit&&t.startOf(this.largeUnit)),t},r.prototype.normalizeComponentFootprint=function(e){var t,r,o,n;return n=e.unzonedRange,this.isTimeScale?(r=this.normalizeGridDate(n.getStart()),t=this.normalizeGridDate(n.getEnd())):(o=this.view.computeDayRange(n),this.largeUnit?(r=o.start.clone().startOf(this.largeUnit),t=o.end.clone().startOf(this.largeUnit),t.isSame(o.end)&&t.isAfter(r)||t.add(this.slotDuration)):(r=o.start,t=o.end)),new l(new re(r,t),(!this.isTimeScale))},r.prototype.rangeUpdated=function(){var e,t;for(this.timeWindowMs=this.view.maxTime-this.view.minTime,this.unzonedStart=this.normalizeGridDate(this.unzonedRange.getStart()),this.unzonedEnd=this.normalizeGridDate(this.unzonedRange.getEnd()),this.isTimeScale&&(this.unzonedStart.add(this.view.minTime),this.unzonedEnd.subtract(1,"day").add(this.view.maxTime)),this.unzonedRange=new re(this.unzonedStart,this.unzonedEnd),t=[],e=this.unzonedStart.clone();e<this.unzonedEnd;)this.isValidDate(e)&&t.push(e.clone()),e.add(this.slotDuration);return this.slotDates=t,this.updateGridDates()},r.prototype.updateGridDates=function(){var e,t,r,o,n;for(o=-1,t=0,r=[],n=[],e=this.unzonedStart.clone();e<this.unzonedEnd;)this.isValidDate(e)?(o++,r.push(o),n.push(t)):r.push(o+.5),e.add(this.snapDuration),t++;return this.snapDiffToIndex=r,this.snapIndexToDiff=n,this.snapCnt=o+1,this.slotCnt=this.snapCnt/this.snapsPerSlot},r.prototype.componentFootprintToSegs=function(e){var t,r,o,n,s,i,l;return r=e.unzonedRange.getStart(),t=e.unzonedRange.getEnd(),o=this.normalizeComponentFootprint(e),l=[],this.computeDateSnapCoverage(r)<this.computeDateSnapCoverage(t)&&(s=o.unzonedRange.intersect(this.unzonedRange),s&&(i=s.getStart(),n=s.getEnd(),l.push({start:i,end:n,isStart:s.isStart&&this.isValidDate(i),isEnd:s.isEnd&&this.isValidDate(n.clone().subtract(1))}))),l},r.prototype.prepareHits=function(){return this.buildCoords()},r.prototype.queryHit=function(e,t){var r,o,n,s,i,l,u,a,h,c,p,d;if(d=this.snapsPerSlot,s=this.slatCoordCache,r=this.containerCoordCache,r.isPointInBounds(e,t)&&(i=s.getHorizontalIndex(e),null!=i))return a=s.getWidth(i),this.isRTL?(u=s.getRightOffset(i),n=(u-e)/a,o=Math.floor(n*d),h=i*d+o,p=u-o/d*a,c=p-(o+1)/d*a):(l=s.getLeftOffset(i),n=(e-l)/a,o=Math.floor(n*d),h=i*d+o,c=l+o/d*a,p=l+(o+1)/d*a),{snap:h,component:this,left:c,right:p,top:r.getTopOffset(0),bottom:r.getBottomOffset(0)}},r.prototype.getHitFootprint=function(e){return new l(this.getSnapUnzonedRange(e.snap),(!this.isTimeScale))},r.prototype.getHitEl=function(e){return this.getSnapEl(e.snap)},r.prototype.getSnapUnzonedRange=function(e){var t,r;return r=this.unzonedStart.clone(),r.add(Me(this.snapDuration,this.snapIndexToDiff[e])),t=r.clone().add(this.snapDuration),new re(r,t)},r.prototype.getSnapEl=function(e){return this.slatEls.eq(Math.floor(e/this.snapsPerSlot))},r.prototype.renderSkeleton=function(){return this.headScroller=new i({overflowX:"clipped-scroll",overflowY:"hidden"}),this.headScroller.canvas=new $,this.headScroller.render(),this.headEl.append(this.headScroller.el),this.bodyScroller=new i,this.bodyScroller.canvas=new $,this.bodyScroller.render(),this.el.append(this.bodyScroller.el),this.innerEl=this.bodyScroller.canvas.contentEl,this.slatContainerEl=e('<div class="fc-slats"/>').appendTo(this.bodyScroller.canvas.bgEl),this.segContainerEl=e('<div class="fc-event-container"/>').appendTo(this.bodyScroller.canvas.contentEl),this.bgSegContainerEl=this.bodyScroller.canvas.bgEl,this.containerCoordCache=new u({els:this.bodyScroller.canvas.el,isHorizontal:!0,isVertical:!0}),this.joiner=new X("horizontal",[this.headScroller,this.bodyScroller]),this.follower=new Y(this.headScroller,(!0)),this.eventTitleFollower=new Y(this.bodyScroller),this.eventTitleFollower.minTravel=50,this.isRTL?this.eventTitleFollower.containOnNaturalRight=!0:this.eventTitleFollower.containOnNaturalLeft=!0,r.__super__.renderSkeleton.apply(this,arguments)},r.prototype.headColEls=null,r.prototype.slatColEls=null,r.prototype.renderDates=function(){var e,t,r,o,n;for(this.headScroller.canvas.contentEl.html(this.renderHeadHtml()),this.headColEls=this.headScroller.canvas.contentEl.find("col"),this.slatContainerEl.html(this.renderSlatHtml()),this.slatColEls=this.slatContainerEl.find("col"),this.slatEls=this.slatContainerEl.find("td"),this.slatCoordCache=new u({els:this.slatEls,isHorizontal:!0}),this.slatInnerCoordCache=new u({els:this.slatEls.find("> div"),isHorizontal:!0,offsetParent:this.bodyScroller.canvas.el}),n=this.slotDates,t=r=0,o=n.length;r<o;t=++r)e=n[t],this.publiclyTrigger("dayRender",{context:this.view,args:[e,this.slatEls.eq(t),this.view]});if(this.follower)return this.follower.setSprites(this.headEl.find("tr:not(:last-child) .fc-cell-text"))},r.prototype.unrenderDates=function(){return this.follower&&this.follower.clearSprites(),this.headScroller.canvas.contentEl.empty(),this.slatContainerEl.empty(),this.headScroller.canvas.clearWidth(),this.bodyScroller.canvas.clearWidth()},r.prototype.renderHeadHtml=function(){var e,t,r,o,n,s,i,l,u,a,h,c,p,d,f,g,y,v,w,m,S,b,C,E,H,T,_,I,D,x,F,B,G,M,z,W,L,P,k,A;for(k=this.view.calendar.theme,y=this.labelInterval,n=this.headerFormats,t=function(){var e,t,r;for(r=[],e=0,t=n.length;e<t;e++)o=n[e],r.push([]);return r}(),v=null,x=null,L=this.slotDates,W=[],M=function(){var e,t,r;for(r=[],e=0,t=n.length;e<t;e++)o=n[e],r.push(R.queryMostGranularFormatUnit(o));return r}(),d=0,w=L.length;d<w;d++){for(r=L[d],A=r.week(),p=this.emphasizeWeeks&&null!==x&&x!==A,B=f=0,m=n.length;f<m;B=++f)o=n[B],G=t[B],v=G[G.length-1],c=n.length>1&&B<n.length-1,I=null,c?(P=r.format(o),v&&v.text===P?v.colspan+=1:I=this.buildCellObject(r,P,M[B])):!v||Fe(Re(this.unzonedStart,r,y))?(P=r.format(o),I=this.buildCellObject(r,P,M[B])):v.colspan+=1,I&&(I.weekStart=p,G.push(I));W.push({weekStart:p}),x=A}for(u=y>this.slotDuration,h=1===this.slotDuration.as("days"),i='<table class="'+k.getClass("tableGrid")+'">',i+="<colgroup>",g=0,S=L.length;g<S;g++)r=L[g],i+="<col/>";for(i+="</colgroup>",i+="<tbody>",l=T=0,b=t.length;T<b;l=++T){for(G=t[l],a=l===t.length-1,i+="<tr"+(u&&a?' class="fc-chrono"':"")+">",_=0,C=G.length;_<C;_++)e=G[_],s=[k.getClass("widgetHeader")],e.weekStart&&s.push("fc-em-cell"),h&&(s=s.concat(this.getDayClasses(e.date,!0))),i+='<th class="'+s.join(" ")+'" data-date="'+e.date.format()+'"'+(e.colspan>1?' colspan="'+e.colspan+'"':"")+'><div class="fc-cell-content">'+e.spanHtml+"</div></th>";i+="</tr>"}for(i+="</tbody></table>",z='<table class="'+k.getClass("tableGrid")+'">',z+="<colgroup>",D=0,E=W.length;D<E;D++)e=W[D],z+="<col/>";for(z+="</colgroup>",z+="<tbody><tr>",l=F=0,H=W.length;F<H;l=++F)e=W[l],r=L[l],z+=this.slatCellHtml(r,e.weekStart);return z+="</tr></tbody></table>",this._slatHtml=z,i},r.prototype.buildCellObject=function(e,t,r){var o;return e=e.clone(),o=this.view.buildGotoAnchorHtml({date:e,type:r,forceOff:!r},{"class":"fc-cell-text"},Ie(t)),{text:t,spanHtml:o,date:e,colspan:1}},r.prototype.renderSlatHtml=function(){return this._slatHtml},r.prototype.slatCellHtml=function(e,t){var r,o;return o=this.view.calendar.theme,this.isTimeScale?(r=[],r.push(Fe(Re(this.unzonedStart,e,this.labelInterval))?"fc-major":"fc-minor")):(r=this.getDayClasses(e),r.push("fc-day")),r.unshift(o.getClass("widgetContent")),t&&r.push("fc-em-cell"),'<td class="'+r.join(" ")+'" data-date="'+e.format()+'"><div /></td>'},r.prototype.businessHourSegs=null,r.prototype.renderBusinessHours=function(){var e;if(!this.largeUnit)return e=this.businessHourSegs=this.buildBusinessHourSegs(!this.isTimeScale),this.renderFill("businessHours",e,"bgevent")},r.prototype.unrenderBusinessHours=function(){return this.unrenderFill("businessHours")},r.prototype.nowIndicatorEls=null,r.prototype.getNowIndicatorUnit=function(){if(this.isTimeScale)return he(this.slotDuration)},r.prototype.renderNowIndicator=function(t){var r,o,n;return n=[],t=this.normalizeGridDate(t),this.unzonedRange.containsDate(t)&&(r=this.dateToCoord(t),o=this.isRTL?{right:-r}:{left:r},n.push(e("<div class='fc-now-indicator fc-now-indicator-arrow'></div>").css(o).appendTo(this.headScroller.canvas.el)[0]),n.push(e("<div class='fc-now-indicator fc-now-indicator-line'></div>").css(o).appendTo(this.bodyScroller.canvas.el)[0])),this.nowIndicatorEls=e(n)},r.prototype.unrenderNowIndicator=function(){if(this.nowIndicatorEls)return this.nowIndicatorEls.remove(),this.nowIndicatorEls=null},r.prototype.explicitSlotWidth=null,r.prototype.defaultSlotWidth=null,r.prototype.updateWidth=function(){var e,t,r,o,n,s;if(o=this.headColEls,o?(s=Math.round(this.slotWidth||(this.slotWidth=this.computeSlotWidth())),r=s*this.slotDates.length,t="",n=s,e=this.bodyScroller.getClientWidth(),e>r&&(t=e,r="",n=Math.floor(e/this.slotDates.length))):(r="",t=""),this.headScroller.canvas.setWidth(r),this.headScroller.canvas.setMinWidth(t),this.bodyScroller.canvas.setWidth(r),this.bodyScroller.canvas.setMinWidth(t),o&&this.headColEls.slice(0,-1).add(this.slatColEls.slice(0,-1)).width(n),this.headScroller.updateSize(),this.bodyScroller.updateSize(),this.joiner.update(),o&&(this.buildCoords(),this.updateSegPositions(),this.view.updateNowIndicator()),this.follower&&this.follower.update(),this.eventTitleFollower)return this.eventTitleFollower.update()},r.prototype.computeSlotWidth=function(){var t,r,o,n,s,i;return o=0,r=this.headEl.find("tr:last-child th .fc-cell-text"),r.each(function(t,r){var n;return n=e(r).outerWidth(),o=Math.max(o,n)}),t=o+1,i=ve(this.labelInterval,this.slotDuration),s=Math.ceil(t/i),n=this.headColEls.eq(0).css("min-width"),n&&(n=parseInt(n,10),n&&(s=Math.max(s,n))),s},r.prototype.buildCoords=function(){return this.containerCoordCache.build(),this.slatCoordCache.build(),this.slatInnerCoordCache.build()},r.prototype.computeDateSnapCoverage=function(e){var t,r,o;return r=Re(this.unzonedStart,e,this.snapDuration),r<0?0:r>=this.snapDiffToIndex.length?this.snapCnt:(o=Math.floor(r),t=this.snapDiffToIndex[o],Fe(t)?t+=r-o:t=Math.ceil(t),t)},r.prototype.dateToCoord=function(e){var t,r,o,n,s;return s=this.computeDateSnapCoverage(e),o=s/this.snapsPerSlot,n=Math.floor(o),n=Math.min(n,this.slotCnt-1),r=o-n,t=this.slatInnerCoordCache,this.isRTL?t.getRightPosition(n)-t.getWidth(n)*r-this.containerCoordCache.getWidth(0):t.getLeftPosition(n)+t.getWidth(n)*r},r.prototype.rangeToCoords=function(e){return this.isRTL?{right:this.dateToCoord(e.start),left:this.dateToCoord(e.end)}:{left:this.dateToCoord(e.start),right:this.dateToCoord(e.end)}},r.prototype.headHeight=function(){var e;return e=this.headScroller.canvas.contentEl.find("table"),e.height.apply(e,arguments)},r.prototype.updateSegPositions=function(){var e,t,r,o,n;for(n=(this.segs||[]).concat(this.businessHourSegs||[]),t=0,r=n.length;t<r;t++)o=n[t],e=this.rangeToCoords(o),o.el.css({left:o.left=e.left,right:-(o.right=e.right)})},r.prototype.renderFgSegs=function(e){return e=this.renderFgSegEls(e),this.renderFgSegsInContainers([[this,e]]),this.updateSegFollowers(e),e},r.prototype.unrenderFgSegs=function(){return this.clearSegFollowers(),this.unrenderFgContainers([this])},r.prototype.renderFgSegsInContainers=function(e){var t,r,o,n,s,i,l,u,a,h,c,p,d,f,g,y,v,R,w,m,S,b,C,E,H;for(o=0,i=e.length;o<i;o++)for(w=e[o],t=w[0],H=w[1],n=0,l=H.length;n<l;n++)E=H[n],r=this.rangeToCoords(E),E.el.css({left:E.left=r.left,right:-(E.right=r.right)});for(s=0,u=e.length;s<u;s++)for(m=e[s],t=m[0],H=m[1],f=0,a=H.length;f<a;f++)E=H[f],E.el.appendTo(t.segContainerEl);for(g=0,h=e.length;g<h;g++){for(S=e[g],t=S[0],H=S[1],y=0,c=H.length;y<c;y++)E=H[y],E.height=E.el.outerHeight(!0);this.buildSegLevels(H),t.segContainerHeight=pe(H)}for(C=[],v=0,p=e.length;v<p;v++){for(b=e[v],t=b[0],H=b[1],R=0,d=H.length;R<d;R++)E=H[R],E.el.css("top",E.top);C.push(t.segContainerEl.height(t.segContainerHeight))}return C},r.prototype.buildSegLevels=function(e){var t,r,o,n,s,i,l,u,a,h,c,p,d,f;for(d=[],this.sortEventSegs(e),o=0,i=e.length;o<i;o++){for(f=e[o],f.above=[],a=0;a<d.length;){for(r=!1,c=d[a],n=0,l=c.length;n<l;n++)h=c[n],et(f,h)&&(f.above.push(h),r=!0);if(!r)break;a+=1}for((d[a]||(d[a]=[])).push(f),a+=1;a<d.length;){for(p=d[a],s=0,u=p.length;s<u;s++)t=p[s],et(f,t)&&t.above.push(f);a+=1}}return d},r.prototype.unrenderFgContainers=function(e){var t,r,o,n;for(n=[],r=0,o=e.length;r<o;r++)t=e[r],t.segContainerEl.empty(),t.segContainerEl.height(""),n.push(t.segContainerHeight=null);return n},r.prototype.fgSegHtml=function(e,t){var r,o,n,s,i,l;return o=e.footprint.eventDef,n=this.view.isEventDefDraggable(o),i=e.isStart&&this.view.isEventDefResizableFromStart(o),s=e.isEnd&&this.view.isEventDefResizableFromEnd(o),r=this.getSegClasses(e,n,i||s),r.unshift("fc-timeline-event","fc-h-event"),l=this.getEventTimeText(e.footprint),'<a class="'+r.join(" ")+'" style="'+fe(this.getSegSkinCss(e))+'"'+(o.url?' href="'+Ie(o.url)+'"':"")+'><div class="fc-content">'+(l?'<span class="fc-time">'+Ie(l)+"</span>":"")+'<span class="fc-title">'+(o.title?Ie(o.title):"&nbsp;")+'</span></div><div class="fc-bg" />'+(i?'<div class="fc-resizer fc-start-resizer"></div>':"")+(s?'<div class="fc-resizer fc-end-resizer"></div>':"")+"</a>"},r.prototype.updateSegFollowers=function(e){var t,r,o,n,s;if(this.eventTitleFollower){for(n=[],t=0,r=e.length;t<r;t++)o=e[t],s=o.el.find(".fc-title"),s.length&&n.push(new Q(s));return this.eventTitleFollower.setSprites(n)}},r.prototype.clearSegFollowers=function(){if(this.eventTitleFollower)return this.eventTitleFollower.clearSprites()},r.prototype.segDragStart=function(){if(r.__super__.segDragStart.apply(this,arguments),this.eventTitleFollower)return this.eventTitleFollower.forceRelative()},r.prototype.segDragEnd=function(){if(r.__super__.segDragEnd.apply(this,arguments),this.eventTitleFollower)return this.eventTitleFollower.clearForce()},r.prototype.segResizeStart=function(){if(r.__super__.segResizeStart.apply(this,arguments),this.eventTitleFollower)return this.eventTitleFollower.forceRelative()},r.prototype.segResizeEnd=function(){if(r.__super__.segResizeEnd.apply(this,arguments),this.eventTitleFollower)return this.eventTitleFollower.clearForce()},r.prototype.renderHelperEventFootprintEls=function(e,t){var r;return r=this.eventFootprintsToSegs(e),r=this.renderFgSegEls(r),this.renderHelperSegsInContainers([[this,r]],t);
},r.prototype.renderHelperSegsInContainers=function(t,r){var o,n,s,i,l,u,a,h,c,p,d,f,g,y,v,R,w,m;for(i=[],w=[],l=0,h=t.length;l<h;l++)for(g=t[l],o=g[0],m=g[1],u=0,c=m.length;u<c;u++)R=m[u],n=this.rangeToCoords(R),R.el.css({left:R.left=n.left,right:-(R.right=n.right)}),r&&r.resourceId===(null!=(y=o.resource)?y.id:void 0)?R.el.css("top",r.el.css("top")):R.el.css("top",0);for(a=0,p=t.length;a<p;a++)for(v=t[a],o=v[0],m=v[1],s=e('<div class="fc-event-container fc-helper-container"/>').appendTo(o.innerEl),i.push(s[0]),f=0,d=m.length;f<d;f++)R=m[f],s.append(R.el),w.push(R.el[0]);return this.helperEls?this.helperEls=this.helperEls.add(e(i)):this.helperEls=e(i),e(w)},r.prototype.unrenderHelper=function(){if(this.helperEls)return this.helperEls.remove(),this.helperEls=null},r.prototype.renderEventResize=function(e,t){var r,o,n;for(o=0,n=e.length;o<n;o++)r=e[o],this.renderHighlight(r.componentFootprint);return this.renderHelperEventFootprints(e,t)},r.prototype.unrenderEventResize=function(){return this.unrenderHighlight(),this.unrenderHelper()},r.prototype.renderFill=function(e,t,r){return t=this.renderFillSegEls(e,t),this.renderFillInContainers(e,[[this,t]],r),t},r.prototype.renderFillInContainers=function(e,t,r){var o,n,s,i,l,u;for(l=[],n=0,s=t.length;n<s;n++)i=t[n],o=i[0],u=i[1],l.push(this.renderFillInContainer(e,o,u,r));return l},r.prototype.renderFillInContainer=function(t,r,o,n){var s,i,l,u,a;if(o.length){for(n||(n=t.toLowerCase()),s=e('<div class="fc-'+n+'-container" />').appendTo(r.bgSegContainerEl),l=0,u=o.length;l<u;l++)a=o[l],i=this.rangeToCoords(a),a.el.css({left:a.left=i.left,right:-(a.right=i.right)}),a.el.appendTo(s);return this.elsByFill[t]?this.elsByFill[t]=this.elsByFill[t].add(s):this.elsByFill[t]=s}},r.prototype.renderDrag=function(e,t){var r,o,n;if(t)return this.renderHelperEventFootprints(e);for(o=0,n=e.length;o<n;o++)r=e[o],this.renderHighlight(r.componentFootprint);return null},r.prototype.unrenderDrag=function(){return this.unrenderHelper(),this.unrenderHighlight()},r}(w),pe=function(e){var t,r,o,n;for(o=0,t=0,r=e.length;t<r;t++)n=e[t],o=Math.max(o,ce(n));return o},ce=function(e){return null==e.top&&(e.top=pe(e.above)),e.top+e.height},et=function(e,t){return e.left<t.right&&e.right>t.left},T=18,E=6,C=200,H=1e3,a={months:1},j=[{years:1},{months:1},{days:1},{hours:1},{minutes:30},{minutes:15},{minutes:10},{minutes:5},{minutes:1},{seconds:30},{seconds:15},{seconds:10},{seconds:5},{seconds:1},{milliseconds:500},{milliseconds:100},{milliseconds:10},{milliseconds:1}],Z.prototype.initScaleProps=function(){var r,o,n;return this.labelInterval=this.queryDurationOption("slotLabelInterval"),this.slotDuration=this.queryDurationOption("slotDuration"),this.validateLabelAndSlot(),this.ensureLabelInterval(),this.ensureSlotDuration(),r=this.opt("slotLabelFormat"),n=e.type(r),this.headerFormats="array"===n?r:"string"===n?[r]:this.computeHeaderFormats(),this.isTimeScale=we(this.slotDuration),this.largeUnit=this.isTimeScale?void 0:(o=he(this.slotDuration),/year|month|week/.test(o)?o:void 0),this.emphasizeWeeks=1===this.slotDuration.as("days")&&this.view.currentRangeAs("weeks")>=2&&!this.opt("businessHours"),this.snapDuration=(r=this.opt("snapDuration"))?t.duration(r):this.slotDuration,this.snapsPerSlot=ve(this.slotDuration,this.snapDuration)},Z.prototype.queryDurationOption=function(e){var r,o;if(o=this.opt(e),null!=o&&(r=t.duration(o),+r))return r},Z.prototype.validateLabelAndSlot=function(){var e,t,r,o;if(e=this.view.currentUnzonedRange,this.labelInterval&&(t=Re(e.getStart(),e.getEnd(),this.labelInterval),t>H&&(R.warn("slotLabelInterval results in too many cells"),this.labelInterval=null)),this.slotDuration&&(r=Re(e.getStart(),e.getEnd(),this.slotDuration),r>H&&(R.warn("slotDuration results in too many cells"),this.slotDuration=null)),this.labelInterval&&this.slotDuration&&(o=ve(this.labelInterval,this.slotDuration),!Fe(o)||o<1))return R.warn("slotLabelInterval must be a multiple of slotDuration"),this.slotDuration=null},Z.prototype.computeFallbackDuration=function(){var e,r,o,n,s;if(e=null,this.labelInterval||this.slotDuration)for(s=this.ensureLabelInterval(),o=j.length-1;o>=0&&(r=j[o],e=t.duration(r),n=ve(e,s),!(n>=T));o+=-1);else e=t.duration(a);return e},Z.prototype.ensureLabelInterval=function(){var e,r,o,n,s,i,l,u,a,h;if(e=this.view.currentUnzonedRange,i=this.labelInterval,!i){if(this.slotDuration){for(o=0,l=j.length;o<l;o++)if(r=j[o],h=t.duration(r),a=ve(h,this.slotDuration),Fe(a)&&a<=E){i=h;break}i||(i=this.slotDuration)}else for(n=0,u=j.length;n<u&&(r=j[n],i=t.duration(r),s=Re(e.getStart(),e.getEnd(),i),!(s>=T));n++);this.labelInterval=i}return i},Z.prototype.ensureSlotDuration=function(){var e,r,o,n,s,i,l,u,a;if(e=this.view.currentUnzonedRange,l=this.slotDuration,!l){for(n=this.ensureLabelInterval(),o=0,s=j.length;o<s;o++)if(r=j[o],a=t.duration(r),u=ve(n,a),Fe(u)&&u>1&&u<=E){l=a;break}l&&(i=Re(e.getStart(),e.getEnd(),l),i>C&&(l=null)),l||(l=n),this.slotDuration=l}return l},Z.prototype.computeHeaderFormats=function(){var e,t,r,o,n,s,i;switch(s=this.view,o=this.labelInterval,n=he(o),i=this.opt("weekNumbers"),e=t=r=null,"week"!==n||i||(n="day"),n){case"year":e="YYYY";break;case"month":s.currentRangeAs("years")>1&&(e="YYYY"),t="MMM";break;case"week":s.currentRangeAs("years")>1&&(e="YYYY"),t=this.opt("shortWeekFormat");break;case"day":s.currentRangeAs("years")>1?e=this.opt("monthYearFormat"):s.currentRangeAs("months")>1&&(e="MMMM"),i&&(t=this.opt("weekFormat")),r="dd D";break;case"hour":i&&(e=this.opt("weekFormat")),s.currentRangeAs("days")>1&&(t=this.opt("dayOfMonthFormat")),r=this.opt("smallTimeFormat");break;case"minute":o.asMinutes()/60>=E?(e=this.opt("hourFormat"),t="[:]mm"):e=this.opt("mediumTimeFormat");break;case"second":o.asSeconds()/60>=E?(e="LT",t="[:]ss"):e="LTS";break;case"millisecond":e="LTS",t="[.]SSS"}return[].concat(e||[],t||[],r||[])},R.views.timeline={"class":ee,defaults:{eventResizableFromStart:!0}},R.views.timelineDay={type:"timeline",duration:{days:1}},R.views.timelineWeek={type:"timeline",duration:{weeks:1}},R.views.timelineMonth={type:"timeline",duration:{months:1}},R.views.timelineYear={type:"timeline",duration:{years:1}},q=function(t){function r(){return r.__super__.constructor.apply(this,arguments)}return rt(r,t),r.mixin(U),r.prototype.canHandleSpecificResources=!0,r.prototype.resourceGrid=null,r.prototype.tbodyHash=null,r.prototype.joiner=null,r.prototype.dividerEls=null,r.prototype.superHeaderText=null,r.prototype.isVGrouping=null,r.prototype.isHGrouping=null,r.prototype.groupSpecs=null,r.prototype.colSpecs=null,r.prototype.orderSpecs=null,r.prototype.rowHierarchy=null,r.prototype.resourceRowHash=null,r.prototype.nestingCnt=0,r.prototype.isNesting=null,r.prototype.dividerWidth=null,r.prototype.initialize=function(){return r.__super__.initialize.apply(this,arguments),this.processResourceOptions(),this.resourceGrid=new K(this),this.rowHierarchy=new N(this),this.resourceRowHash={}},r.prototype.instantiateGrid=function(){return new O(this)},r.prototype.processResourceOptions=function(){var e,t,r,o,n,s,i,l,u,a,h,c,p,d,f,g,y,v,R,w,m,S;for(e=this.opt("resourceColumns")||[],f=this.opt("resourceLabelText"),o="Resources",S=null,e.length?S=f:e.push({labelText:f||o,text:this.getResourceTextFunc()}),w=[],n=[],i=[],h=!1,a=!1,c=0,g=e.length;c<g;c++)r=e[c],r.group?n.push(r):w.push(r);for(w[0].isMain=!0,n.length?(i=n,h=!0):(l=this.opt("resourceGroupField"),l&&(a=!0,i.push({field:l,text:this.opt("resourceGroupText"),render:this.opt("resourceGroupRender")}))),t=je(this.opt("resourceOrder")),m=[],p=0,y=t.length;p<y;p++){for(R=t[p],u=!1,d=0,v=i.length;d<v;d++)if(s=i[d],s.field===R.field){s.order=R.order,u=!0;break}u||m.push(R)}return this.superHeaderText=S,this.isVGrouping=h,this.isHGrouping=a,this.groupSpecs=i,this.colSpecs=n.concat(w),this.orderSpecs=m},r.prototype.renderSkeleton=function(){return r.__super__.renderSkeleton.apply(this,arguments),this.renderResourceGridSkeleton(),this.tbodyHash={spreadsheet:this.resourceGrid.tbodyEl,event:this.timeGrid.tbodyEl},this.joiner=new X("vertical",[this.resourceGrid.bodyScroller,this.timeGrid.bodyScroller]),this.initDividerMoving()},r.prototype.renderSkeletonHtml=function(){var e;return e=this.calendar.theme,'<table class="'+e.getClass("tableGrid")+'"> <thead class="fc-head"> <tr> <td class="fc-resource-area '+e.getClass("widgetHeader")+'"></td> <td class="fc-divider fc-col-resizer '+e.getClass("widgetHeader")+'"></td> <td class="fc-time-area '+e.getClass("widgetHeader")+'"></td> </tr> </thead> <tbody class="fc-body"> <tr> <td class="fc-resource-area '+e.getClass("widgetContent")+'"></td> <td class="fc-divider fc-col-resizer '+e.getClass("widgetHeader")+'"></td> <td class="fc-time-area '+e.getClass("widgetContent")+'"></td> </tr> </tbody> </table>'},r.prototype.renderResourceGridSkeleton=function(){return this.resourceGrid.el=this.el.find("tbody .fc-resource-area"),this.resourceGrid.headEl=this.el.find("thead .fc-resource-area"),this.resourceGrid.renderSkeleton()},r.prototype.initDividerMoving=function(){var e;return this.dividerEls=this.el.find(".fc-divider"),this.dividerWidth=null!=(e=this.opt("resourceAreaWidth"))?e:this.resourceGrid.tableWidth,null!=this.dividerWidth&&this.positionDivider(this.dividerWidth),this.dividerEls.on("mousedown",function(e){return function(t){return e.dividerMousedown(t)}}(this))},r.prototype.dividerMousedown=function(e){var t,r,o,n,s;return r=this.opt("isRTL"),n=30,o=this.el.width()-30,s=this.getNaturalDividerWidth(),t=new h({dragStart:function(e){return function(){return e.dividerEls.addClass("fc-active")}}(this),drag:function(e){return function(t,i){var l;return l=r?s-t:s+t,l=Math.max(l,n),l=Math.min(l,o),e.dividerWidth=l,e.positionDivider(l),e.updateWidth()}}(this),dragEnd:function(e){return function(){return e.dividerEls.removeClass("fc-active")}}(this)}),t.startInteraction(e)},r.prototype.getNaturalDividerWidth=function(){return this.el.find(".fc-resource-area").width()},r.prototype.positionDivider=function(e){return this.el.find(".fc-resource-area").width(e)},r.prototype.renderEventsPayload=function(e){return this.timeGrid.renderEventsPayload(e),this.syncRowHeights(),this.updateWidth()},r.prototype.unrenderEvents=function(){return this.timeGrid.unrenderEvents(),this.syncRowHeights(),this.updateWidth()},r.prototype.updateWidth=function(){if(r.__super__.updateWidth.apply(this,arguments),this.resourceGrid.updateWidth(),this.joiner.update(),this.cellFollower)return this.cellFollower.update()},r.prototype.updateHeight=function(e){if(r.__super__.updateHeight.apply(this,arguments),e)return this.syncRowHeights()},r.prototype.setHeight=function(e,t){var r,o;return o=this.syncHeadHeights(),r=t?"auto":e-o-this.queryMiscHeight(),this.timeGrid.bodyScroller.setHeight(r),this.resourceGrid.bodyScroller.setHeight(r)},r.prototype.queryMiscHeight=function(){return this.el.outerHeight()-Math.max(this.resourceGrid.headScroller.el.outerHeight(),this.timeGrid.headScroller.el.outerHeight())-Math.max(this.resourceGrid.bodyScroller.el.outerHeight(),this.timeGrid.bodyScroller.el.outerHeight())},r.prototype.syncHeadHeights=function(){var e;return this.resourceGrid.headHeight("auto"),this.timeGrid.headHeight("auto"),e=Math.max(this.resourceGrid.headHeight(),this.timeGrid.headHeight()),this.resourceGrid.headHeight(e),this.timeGrid.headHeight(e),e},r.prototype.renderResources=function(e){var t,r,o;for(this.batchRows(),t=0,r=e.length;t<r;t++)o=e[t],this.insertResource(o);return this.rowHierarchy.show(),this.unbatchRows(),this.reinitializeCellFollowers()},r.prototype.unrenderResources=function(){return this.batchRows(),this.rowHierarchy.removeChildren(),this.unbatchRows(),this.reinitializeCellFollowers()},r.prototype.renderResource=function(e){return this.insertResource(e),this.reinitializeCellFollowers()},r.prototype.unrenderResource=function(e){var t;if(t=this.getResourceRow(e.id))return this.batchRows(),t.remove(),this.unbatchRows(),this.reinitializeCellFollowers()},r.prototype.cellFollower=null,r.prototype.reinitializeCellFollowers=function(){var t,r,o,n,s,i;for(this.cellFollower&&this.cellFollower.clearSprites(),this.cellFollower=new Y(this.resourceGrid.bodyScroller,(!0)),this.cellFollower.isHFollowing=!1,this.cellFollower.isVFollowing=!0,n=[],s=this.rowHierarchy.getNodes(),r=0,o=s.length;r<o;r++)i=s[r],i instanceof oe&&i.groupTd&&(t=i.groupTd.find(".fc-cell-content"),t.length&&n.push(t[0]));return this.cellFollower.setSprites(e(n))},r.prototype.insertResource=function(e,t){var r,o,n,s,i,l,u;for(u=new k(this,e),null==t&&(s=e.parentId,s&&(t=this.getResourceRow(s))),t?this.insertRowAsChild(u,t):this.insertRow(u),i=e.children,l=[],o=0,n=i.length;o<n;o++)r=i[o],l.push(this.insertResource(r,u));return l},r.prototype.insertRow=function(e,t,r){var o;return null==t&&(t=this.rowHierarchy),null==r&&(r=this.groupSpecs),r.length?(o=this.ensureResourceGroup(e,t,r[0]),o instanceof m?this.insertRowAsChild(e,o):this.insertRow(e,o,r.slice(1))):this.insertRowAsChild(e,t)},r.prototype.insertRowAsChild=function(e,t){return t.addChild(e,this.computeChildRowPosition(e,t))},r.prototype.computeChildRowPosition=function(e,t){var r,o,n,s,i,l;if(this.orderSpecs.length)for(i=t.children,o=n=0,s=i.length;n<s;o=++n)if(l=i[o],r=this.compareResources(l.resource||{},e.resource||{}),r>0)return o;return null},r.prototype.compareResources=function(e,t){return ae(e,t,this.orderSpecs)},r.prototype.ensureResourceGroup=function(e,t,r){var o,n,s,i,l,u,a,h,c,p,d;if(s=(e.resource||{})[r.field],n=null,r.order)for(c=t.children,i=l=0,a=c.length;l<a;i=++l){if(d=c[i],o=me(d.groupValue,s)*r.order,0===o){n=d;break}if(o>0)break}else for(p=t.children,i=u=0,h=p.length;u<h;i=++u)if(d=p[i],d.groupValue===s){n=d;break}return n||(n=this.isVGrouping?new oe(this,r,s):new m(this,r,s),t.addChild(n,i)),n},r.prototype.pairSegsWithRows=function(e){var t,r,o,n,s,i,l,u;for(n=[],s={},t=0,r=e.length;t<r;t++)u=e[t],i=u.resourceId,i&&(l=this.getResourceRow(i),l&&(o=s[i],o||(o=[l,[]],n.push(o),s[i]=o),o[1].push(u)));return n},r.prototype.rowAdded=function(e){var t,r;return e instanceof k&&(this.resourceRowHash[e.resource.id]=e,this.timeGrid.assignRowBusinessHourSegs(e)),r=this.isNesting,t=Boolean(this.nestingCnt+=e.depth?1:0),r!==t&&(this.el.toggleClass("fc-nested",t),this.el.toggleClass("fc-flat",!t)),this.isNesting=t},r.prototype.rowRemoved=function(e){var t,r;return e instanceof k&&(delete this.resourceRowHash[e.resource.id],this.timeGrid.destroyRowBusinessHourSegs(e)),r=this.isNesting,t=Boolean(this.nestingCnt-=e.depth?1:0),r!==t&&(this.el.toggleClass("fc-nested",t),this.el.toggleClass("fc-flat",!t)),this.isNesting=t},r.prototype.batchRowDepth=0,r.prototype.shownRowBatch=null,r.prototype.hiddenRowBatch=null,r.prototype.batchRows=function(){if(!this.batchRowDepth++)return this.shownRowBatch=[],this.hiddenRowBatch=[]},r.prototype.unbatchRows=function(){if(!--this.batchRowDepth)return this.hiddenRowBatch.length&&this.rowsHidden(this.hiddenRowBatch),this.shownRowBatch.length&&this.rowsShown(this.shownRowBatch),this.hiddenRowBatch=null,this.shownRowBatch=null},r.prototype.rowShown=function(e){return this.shownRowBatch?this.shownRowBatch.push(e):this.rowsShown([e])},r.prototype.rowHidden=function(e){return this.hiddenRowBatch?this.hiddenRowBatch.push(e):this.rowsHidden([e])},r.prototype.rowsShown=function(e){return this.syncRowHeights(e),this.updateWidth()},r.prototype.rowsHidden=function(e){return this.updateWidth()},r.prototype.syncRowHeights=function(e,t){var r,o,n,s,i,l,u,a,h,c;for(null==t&&(t=!1),null==e&&(e=this.getVisibleRows()),l=0,a=e.length;l<a;l++)c=e[l],c.setTrInnerHeight("");for(i=function(){var o,n,s;for(s=[],o=0,n=e.length;o<n;o++)c=e[o],r=c.getMaxTrInnerHeight(),t&&(r+=r%2),s.push(r);return s}(),s=u=0,h=e.length;u<h;s=++u)c=e[s],c.setTrInnerHeight(i[s]);if(!t&&(o=this.resourceGrid.tbodyEl.height(),n=this.timeGrid.tbodyEl.height(),Math.abs(o-n)>1))return this.syncRowHeights(e,!0)},r.prototype.getVisibleRows=function(){var e,t,r,o,n;for(r=this.rowHierarchy.getRows(),o=[],e=0,t=r.length;e<t;e++)n=r[e],n.isShown&&o.push(n);return o},r.prototype.getEventRows=function(){var e,t,r,o,n;for(r=this.rowHierarchy.getRows(),o=[],e=0,t=r.length;e<t;e++)n=r[e],n instanceof y&&o.push(n);return o},r.prototype.getResourceRow=function(e){return this.resourceRowHash[e]},r.prototype.queryResourceScroll=function(){var e,t,r,o,n,s,i,l;for(i={},l=this.timeGrid.bodyScroller.scrollEl.offset().top,n=this.getVisibleRows(),r=0,o=n.length;r<o;r++)if(s=n[r],s.resource&&(e=s.getTr("event"),t=e.offset().top+e.outerHeight(),t>l)){i.resourceId=s.resource.id,i.bottom=t-l;break}return i},r.prototype.applyResourceScroll=function(e){var t,r,o,n,s;if(e.resourceId&&(n=this.getResourceRow(e.resourceId),n&&(t=n.getTr("event"))))return o=this.timeGrid.bodyScroller.canvas.el.offset().top,r=t.offset().top+t.outerHeight(),s=r-e.bottom-o,this.timeGrid.bodyScroller.setScrollTop(s),this.resourceGrid.bodyScroller.setScrollTop(s)},r.prototype.scrollToResource=function(e){var t,r,o,n;if(o=this.getResourceRow(e.id),o&&(t=o.getTr("event")))return r=this.timeGrid.bodyScroller.canvas.el.offset().top,n=t.offset().top-r,this.timeGrid.bodyScroller.setScrollTop(n),this.resourceGrid.bodyScroller.setScrollTop(n)},r}(ee),O=function(t){function r(){return r.__super__.constructor.apply(this,arguments)}return rt(r,t),r.mixin(W),r.prototype.eventRows=null,r.prototype.shownEventRows=null,r.prototype.tbodyEl=null,r.prototype.rowCoordCache=null,r.prototype.componentFootprintToSegs=function(e){var t,o,n,s,i,l;if(l=r.__super__.componentFootprintToSegs.apply(this,arguments),t=this.view.calendar,s=e.resourceId)for(o=0,n=l.length;o<n;o++)i=l[o],i.resource=t.getResourceById(s),i.resourceId=s;return l},r.prototype.prepareHits=function(){var e,t;return r.__super__.prepareHits.apply(this,arguments),this.eventRows=this.view.getEventRows(),this.shownEventRows=function(){var t,r,o,n;for(o=this.eventRows,n=[],t=0,r=o.length;t<r;t++)e=o[t],e.isShown&&n.push(e);return n}.call(this),t=function(){var t,r,o,n;for(o=this.shownEventRows,n=[],t=0,r=o.length;t<r;t++)e=o[t],n.push(e.getTr("event")[0]);return n}.call(this),this.rowCoordCache=new u({els:t,isVertical:!0}),this.rowCoordCache.build()},r.prototype.releaseHits=function(){return r.__super__.releaseHits.apply(this,arguments),this.eventRows=null,this.shownEventRows=null,this.rowCoordCache.clear()},r.prototype.queryHit=function(e,t){var o,n;if(n=r.__super__.queryHit.apply(this,arguments),n&&(o=this.rowCoordCache.getVerticalIndex(t),null!=o))return{resourceId:this.shownEventRows[o].resource.id,snap:n.snap,component:this,left:n.left,right:n.right,top:this.rowCoordCache.getTopOffset(o),bottom:this.rowCoordCache.getBottomOffset(o)}},r.prototype.getHitFootprint=function(e){var t;return t=r.__super__.getHitFootprint.apply(this,arguments),new G(t.unzonedRange,t.isAllDay,e.resourceId)},r.prototype.getHitEl=function(e){return this.getSnapEl(e.snap)},r.prototype.renderSkeleton=function(){var t,o;return r.__super__.renderSkeleton.apply(this,arguments),o=this.view.calendar.theme,this.segContainerEl.remove(),this.segContainerEl=null,t=e('<div class="fc-rows"> <table class="'+o.getClass("tableGrid")+'"> <tbody/> </table> </div>').appendTo(this.bodyScroller.canvas.contentEl),this.tbodyEl=t.find("tbody")},r.prototype.renderFgSegs=function(e){var t,r,o,n,s,i,l;for(e=this.renderFgSegEls(e),i=this.view.pairSegsWithRows(e),l=[],o=0,n=i.length;o<n;o++)s=i[o],t=s[0],r=s[1],t.fgSegs=r,t.isShown&&(t.isSegsRendered=!0,l.push(s));return this.renderFgSegsInContainers(l),this.updateSegFollowers(e),e},r.prototype.unrenderFgSegs=function(){var e,t,r,o;for(this.clearSegFollowers(),t=this.view.getEventRows(),r=0,o=t.length;r<o;r++)e=t[r],e.fgSegs=null,e.isSegsRendered=!1;return this.unrenderFgContainers(t)},r.prototype.unrenderBgSegs=function(){var e,t,o,n,s;for(r.__super__.unrenderBgSegs.apply(this,arguments),t=this.view.getEventRows(),s=[],o=0,n=t.length;o<n;o++)e=t[o],s.push(e.bgSegs=null);return s},r.prototype.rowCntWithCustomBusinessHours=0,r.prototype.renderBusinessHours=function(){return this.rowCntWithCustomBusinessHours?this.ensureIndividualBusinessHours():r.__super__.renderBusinessHours.apply(this,arguments)},r.prototype.unrenderBusinessHours=function(){return this.rowCntWithCustomBusinessHours?this.clearIndividualBusinessHours():r.__super__.unrenderBusinessHours.apply(this,arguments)},r.prototype.ensureIndividualBusinessHours=function(){var e,t,r,o,n;for(r=this.view.getEventRows(),o=[],e=0,t=r.length;e<t;e++)n=r[e],this.view.has("dateProfile")&&!n.businessHourSegs&&this.populateRowBusinessHoursSegs(n),n.isShown?o.push(n.ensureBusinessHourSegsRendered()):o.push(void 0);return o},r.prototype.clearIndividualBusinessHours=function(){var e,t,r,o,n;for(r=this.view.getEventRows(),o=[],e=0,t=r.length;e<t;e++)n=r[e],o.push(n.clearBusinessHourSegs());return o},r.prototype.assignRowBusinessHourSegs=function(e){if(e.resource.businessHours&&(this.rowCntWithCustomBusinessHours||(Z.prototype.unrenderBusinessHours.call(this),this.ensureIndividualBusinessHours()),this.rowCntWithCustomBusinessHours+=1),this.view.has("dateProfile")&&this.rowCntWithCustomBusinessHours)return this.populateRowBusinessHoursSegs(e)},r.prototype.destroyRowBusinessHourSegs=function(e){if(e.clearBusinessHourSegs(),e.resource.businessHours&&(this.rowCntWithCustomBusinessHours-=1,!this.rowCntWithCustomBusinessHours))return this.clearIndividualBusinessHours(),Z.prototype.renderBusinessHours.call(this)},r.prototype.populateRowBusinessHoursSegs=function(e){var t,r;t=this._buildBusinessHourEventFootprints(!this.isTimeScale,e.resource.businessHours||this.opt("businessHours")),r=this.eventFootprintsToSegs(t),r=this.renderFillSegEls("businessHours",r),e.businessHourSegs=r},r.prototype.renderFill=function(e,t,r){var o,n,s,i,l,u,a,h,c,p,d,f;for(t=this.renderFillSegEls(e,t),h=[],l=[],o=0,s=t.length;o<s;o++)d=t[o],d.resourceId?h.push(d):l.push(d);for(a=this.view.pairSegsWithRows(h),f=[],n=0,i=a.length;n<i;n++)u=a[n],c=u[0],p=u[1],"bgEvent"===e&&(c.bgSegs=p),c.isShown&&f.push(u);return l.length&&f.unshift([this,l]),this.renderFillInContainers(e,f,r),t},r.prototype.renderHelperEventFootprintEls=function(e,t){var r,o;return o=this.eventFootprintsToSegs(e),o=this.renderFgSegEls(o),r=this.view.pairSegsWithRows(o),this.renderHelperSegsInContainers(r,t)},r}(Z),r=30,K=function(){function t(e){var t;this.view=e,this.isRTL=this.view.opt("isRTL"),this.givenColWidths=this.colWidths=function(){var e,r,o,n;for(o=this.view.colSpecs,n=[],e=0,r=o.length;e<r;e++)t=o[e],n.push(t.width);return n}.call(this)}return t.prototype.view=null,t.prototype.headEl=null,t.prototype.el=null,t.prototype.tbodyEl=null,t.prototype.headScroller=null,t.prototype.bodyScroller=null,t.prototype.joiner=null,t.prototype.colGroupHtml="",t.prototype.headTable=null,t.prototype.headColEls=null,t.prototype.headCellEls=null,t.prototype.bodyColEls=null,t.prototype.bodyTable=null,t.prototype.renderSkeleton=function(){var e;return e=this.view.calendar.theme,this.headScroller=new i({overflowX:"clipped-scroll",overflowY:"hidden"}),this.headScroller.canvas=new $,this.headScroller.render(),this.headScroller.canvas.contentEl.html(this.renderHeadHtml()),this.headEl.append(this.headScroller.el),this.bodyScroller=new i({overflowY:"clipped-scroll"}),this.bodyScroller.canvas=new $,this.bodyScroller.render(),this.bodyScroller.canvas.contentEl.html('<div class="fc-rows"> <table class="'+e.getClass("tableGrid")+'">'+this.colGroupHtml+"<tbody/> </table> </div>"),this.tbodyEl=this.bodyScroller.canvas.contentEl.find("tbody"),this.el.append(this.bodyScroller.el),this.joiner=new X("horizontal",[this.headScroller,this.bodyScroller]),this.headTable=this.headEl.find("table"),this.headColEls=this.headEl.find("col"),this.headCellEls=this.headScroller.canvas.contentEl.find("tr:last-child th"),this.bodyColEls=this.el.find("col"),this.bodyTable=this.el.find("table"),this.colMinWidths=this.computeColMinWidths(),this.applyColWidths(),this.initColResizing()},t.prototype.renderHeadHtml=function(){var e,t,r,o,n,s,i,l,u,a,h,c;for(c=this.view.calendar.theme,t=this.view.colSpecs,r='<table class="'+c.getClass("tableGrid")+'">',e="<colgroup>",i=0,u=t.length;i<u;i++)h=t[i],e+=h.isMain?'<col class="fc-main-col"/>':"<col/>";for(e+="</colgroup>",this.colGroupHtml=e,r+=e,r+="<tbody>",this.view.superHeaderText&&(r+='<tr class="fc-super"><th class="'+c.getClass("widgetHeader")+'" colspan="'+t.length+'"><div class="fc-cell-content"><span class="fc-cell-text">'+Ie(this.view.superHeaderText)+"</span></div></th></tr>"),r+="<tr>",s=!0,o=l=0,a=t.length;l<a;o=++l)h=t[o],n=o===t.length-1,r+='<th class="'+c.getClass("widgetHeader")+'"><div><div class="fc-cell-content">'+(h.isMain?'<span class="fc-expander-space"><span class="fc-icon"></span></span>':"")+'<span class="fc-cell-text">'+Ie(h.labelText||"")+"</span></div>"+(n?"":'<div class="fc-col-resizer"></div>')+"</div></th>";return r+="</tr>",r+="</tbody></table>"},t.prototype.givenColWidths=null,t.prototype.colWidths=null,t.prototype.colMinWidths=null,t.prototype.tableWidth=null,t.prototype.tableMinWidth=null,t.prototype.initColResizing=function(){return this.headEl.find("th .fc-col-resizer").each(function(t){return function(r,o){return o=e(o),o.on("mousedown",function(e){return t.colResizeMousedown(r,e,o)})}}(this))},t.prototype.colResizeMousedown=function(e,t,o){var n,s,i,l;return n=this.colWidths=this.queryColWidths(),n.pop(),n.push(null),l=n[e],i=Math.min(this.colMinWidths[e],r),s=new h({dragStart:function(e){return function(){return o.addClass("fc-active")}}(this),drag:function(t){return function(r,o){var s;return s=l+(t.isRTL?-r:r),s=Math.max(s,i),n[e]=s,t.applyColWidths()}}(this),dragEnd:function(e){return function(){return o.removeClass("fc-active")}}(this)}),s.startInteraction(t)},t.prototype.applyColWidths=function(){var e,t,r,o,n,s,i,l,u,a,h,c,p,d,f,g,y;for(r=this.colMinWidths,n=this.colWidths,e=!0,t=!1,y=0,a=0,p=n.length;a<p;a++)o=n[a],"number"==typeof o?y+=o:(e=!1,o&&(t=!0));for(l=t&&!this.view.isHGrouping?"auto":"",i=function(){var e,t,r;for(r=[],u=e=0,t=n.length;e<t;u=++e)o=n[u],r.push(null!=o?o:l);return r}(),g=0,u=h=0,d=i.length;h<d;u=++h)s=i[u],g+="number"==typeof s?s:r[u];for(u=c=0,f=i.length;c<f;u=++c)s=i[u],this.headColEls.eq(u).width(s),this.bodyColEls.eq(u).width(s);return this.headScroller.canvas.setMinWidth(g),this.bodyScroller.canvas.setMinWidth(g),this.tableMinWidth=g,this.tableWidth=e?y:void 0},t.prototype.computeColMinWidths=function(){var e,t,o,n,s,i;for(n=this.givenColWidths,s=[],e=t=0,o=n.length;t<o;e=++t)i=n[e],"number"==typeof i?s.push(i):s.push(parseInt(this.headColEls.eq(e).css("min-width"))||r);return s},t.prototype.queryColWidths=function(){var t,r,o,n,s;for(n=this.headCellEls,s=[],t=0,r=n.length;t<r;t++)o=n[t],s.push(e(o).outerWidth());return s},t.prototype.updateWidth=function(){if(this.headScroller.updateSize(),this.bodyScroller.updateSize(),this.joiner.update(),this.follower)return this.follower.update()},t.prototype.headHeight=function(){var e;return e=this.headScroller.canvas.contentEl.find("table"),e.height.apply(e,arguments)},t}(),N=function(){function t(t){this.view=t,this.children=[],this.trHash={},this.trs=e()}return t.prototype.view=null,t.prototype.parent=null,t.prototype.prevSibling=null,t.prototype.children=null,t.prototype.depth=0,t.prototype.hasOwnRow=!1,t.prototype.trHash=null,t.prototype.trs=null,t.prototype.isRendered=!1,t.prototype.isExpanded=!0,t.prototype.isShown=!1,t.prototype.addChild=function(e,t){var r,o,n,s,i;for(e.remove(),r=this.children,null!=t?r.splice(t,0,e):(t=r.length,r.push(e)),e.prevSibling=t>0?r[t-1]:null,t<r.length-1&&(r[t+1].prevSibling=e),e.parent=this,e.depth=this.depth+(this.hasOwnRow?1:0),i=e.getNodes(),o=0,n=i.length;o<n;o++)s=i[o],s.added();if(this.isShown&&this.isExpanded)return e.show()},t.prototype.removeChild=function(e){var t,r,o,n,s,i,l,u,a,h;for(t=this.children,o=!1,r=n=0,i=t.length;n<i;r=++n)if(h=t[r],h===e){o=!0;break}if(o){for(r<t.length-1&&(t[r+1].prevSibling=e.prevSibling),t.splice(r,1),e.recursivelyUnrender(),u=e.getNodes(),s=0,l=u.length;s<l;s++)a=u[s],a.removed();return e.parent=null,e.prevSibling=null,e}return!1},t.prototype.removeChildren=function(){var e,t,r,o,n,s,i;for(s=this.children,t=0,o=s.length;t<o;t++)e=s[t],e.recursivelyUnrender();for(i=this.getDescendants(),r=0,n=i.length;r<n;r++)e=i[r],e.removed();return this.children=[]},t.prototype.remove=function(){if(this.parent)return this.parent.removeChild(this)},t.prototype.getLastChild=function(){var e;return e=this.children,e[e.length-1]},t.prototype.getPrevRow=function(){var e,t;for(t=this;t;){if(t.prevSibling)for(t=t.prevSibling;e=t.getLastChild();)t=e;else t=t.parent;if(t&&t.hasOwnRow&&t.isShown)return t}return null},t.prototype.getLeadingRow=function(){return this.hasOwnRow?this:this.isExpanded&&this.children.length?this.children[0].getLeadingRow():void 0},t.prototype.getRows=function(e){var t,r,o,n;for(null==e&&(e=[]),this.hasOwnRow&&e.push(this),n=this.children,r=0,o=n.length;r<o;r++)t=n[r],t.getRows(e);return e},t.prototype.getNodes=function(e){var t,r,o,n;for(null==e&&(e=[]),e.push(this),n=this.children,r=0,o=n.length;r<o;r++)t=n[r],t.getNodes(e);return e},t.prototype.getDescendants=function(){var e,t,r,o,n;for(e=[],n=this.children,r=0,o=n.length;r<o;r++)t=n[r],t.getNodes(e);return e},t.prototype.render=function(){var t,r,o,n,s,i,l;if(this.trHash={},i=[],this.hasOwnRow){t=this.getPrevRow(),r=this.view.tbodyHash;for(l in r)n=r[l],s=e("<tr/>"),this.trHash[l]=s,i.push(s[0]),o="render"+ue(l)+"Content",this[o]&&this[o](s),t?t.trHash[l].after(s):n.prepend(s)}return this.trs=e(i).on("click",".fc-expander",Qe(this,"toggleExpanded")),this.isRendered=!0},t.prototype.unrender=function(){var t,r,o,n;if(this.isRendered){t=this.trHash;for(o in t)r=t[o],n="unrender"+ue(o)+"Content",this[n]&&this[n](r);return this.trHash={},this.trs.remove(),this.trs=e(),this.isRendered=!1,this.isShown=!1,this.hidden()}},t.prototype.recursivelyUnrender=function(){var e,t,r,o,n;for(this.unrender(),o=this.children,n=[],t=0,r=o.length;t<r;t++)e=o[t],n.push(e.recursivelyUnrender());return n},t.prototype.getTr=function(e){return this.trHash[e]},t.prototype.show=function(){var e,t,r,o,n;if(!this.isShown&&(this.isRendered?this.trs.css("display",""):this.render(),this.ensureSegsRendered&&this.ensureSegsRendered(),this.isExpanded?this.indicateExpanded():this.indicateCollapsed(),this.isShown=!0,this.shown(),this.isExpanded)){for(o=this.children,n=[],t=0,r=o.length;t<r;t++)e=o[t],n.push(e.show());return n}},t.prototype.hide=function(){var e,t,r,o,n;if(this.isShown&&(this.isRendered&&this.trs.hide(),this.isShown=!1,this.hidden(),this.isExpanded)){for(o=this.children,n=[],t=0,r=o.length;t<r;t++)e=o[t],n.push(e.hide());return n}},t.prototype.expand=function(){var e,t,r,o;if(!this.isExpanded){for(this.isExpanded=!0,this.indicateExpanded(),this.view.batchRows(),o=this.children,t=0,r=o.length;t<r;t++)e=o[t],e.show();return this.view.unbatchRows(),this.animateExpand()}},t.prototype.collapse=function(){var e,t,r,o;if(this.isExpanded){for(this.isExpanded=!1,this.indicateCollapsed(),this.view.batchRows(),o=this.children,t=0,r=o.length;t<r;t++)e=o[t],e.hide();return this.view.unbatchRows()}},t.prototype.toggleExpanded=function(){return this.isExpanded?this.collapse():this.expand()},t.prototype.indicateExpanded=function(){return this.trs.find(".fc-expander .fc-icon").removeClass(this.getCollapsedIcon()).addClass(this.getExpandedIcon())},t.prototype.indicateCollapsed=function(){return this.trs.find(".fc-expander .fc-icon").removeClass(this.getExpandedIcon()).addClass(this.getCollapsedIcon())},t.prototype.enableExpanding=function(){return this.trs.find(".fc-expander-space").addClass("fc-expander")},t.prototype.disableExpanding=function(){return this.trs.find(".fc-expander-space").removeClass("fc-expander").find(".fc-icon").removeClass(this.getExpandedIcon()).removeClass(this.getCollapsedIcon())},t.prototype.getExpandedIcon=function(){return"fc-icon-down-triangle"},t.prototype.getCollapsedIcon=function(){var e;return e=this.view.isRTL?"left":"right",
"fc-icon-"+e+"-triangle"},t.prototype.animateExpand=function(){var e,t,r;if(r=null!=(e=this.children[0])&&null!=(t=e.getLeadingRow())?t.trs:void 0)return r.addClass("fc-collapsed"),setTimeout(function(){return r.addClass("fc-transitioning"),r.removeClass("fc-collapsed")}),r.one("webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend",function(){return r.removeClass("fc-transitioning")})},t.prototype.getMaxTrInnerHeight=function(){var t;return t=0,e.each(this.trHash,function(e){return function(e,r){var o;return o=Ce(r).find("> div:not(.fc-cell-content):first"),t=Math.max(o.height(),t)}}(this)),t},t.prototype.setTrInnerHeight=function(t){return e.each(this.trHash,function(e){return function(e,r){return Ce(r).find("> div:not(.fc-cell-content):first").height(t)}}(this))},t.prototype.shown=function(){if(this.hasOwnRow)return this.rowShown(this)},t.prototype.hidden=function(){if(this.hasOwnRow)return this.rowHidden(this)},t.prototype.rowShown=function(e){return(this.parent||this.view).rowShown(e)},t.prototype.rowHidden=function(e){return(this.parent||this.view).rowHidden(e)},t.prototype.added=function(){if(this.hasOwnRow)return this.rowAdded(this)},t.prototype.removed=function(){if(this.hasOwnRow)return this.rowRemoved(this)},t.prototype.rowAdded=function(e){return(this.parent||this.view).rowAdded(e)},t.prototype.rowRemoved=function(e){return(this.parent||this.view).rowRemoved(e)},t}(),V=function(t){function r(e,t,o){this.groupSpec=t,this.groupValue=o,r.__super__.constructor.apply(this,arguments)}return rt(r,t),r.prototype.groupSpec=null,r.prototype.groupValue=null,r.prototype.rowRemoved=function(e){if(r.__super__.rowRemoved.apply(this,arguments),e!==this&&!this.children.length)return this.remove()},r.prototype.renderGroupContentEl=function(){var t,r;return t=e('<div class="fc-cell-content" />').append(this.renderGroupTextEl()),r=this.groupSpec.render,"function"==typeof r&&(t=r(t,this.groupValue)||t),t},r.prototype.renderGroupTextEl=function(){var t,r;return r=this.groupValue||"",t=this.groupSpec.text,"function"==typeof t&&(r=t(r)||r),e('<span class="fc-cell-text" />').text(r)},r}(N),m=function(t){function r(){return r.__super__.constructor.apply(this,arguments)}return rt(r,t),r.prototype.hasOwnRow=!0,r.prototype.renderSpreadsheetContent=function(t){var r;return r=this.renderGroupContentEl(),r.prepend('<span class="fc-expander"><span class="fc-icon"></span></span>'),e('<td class="fc-divider" />').attr("colspan",this.view.colSpecs.length).append(e("<div/>").append(r)).appendTo(t)},r.prototype.renderEventContent=function(e){return e.append('<td class="fc-divider"> <div/> </td>')},r}(V),oe=function(t){function r(){return r.__super__.constructor.apply(this,arguments)}return rt(r,t),r.prototype.rowspan=0,r.prototype.leadingTr=null,r.prototype.groupTd=null,r.prototype.rowShown=function(e){return this.rowspan+=1,this.renderRowspan(),r.__super__.rowShown.apply(this,arguments)},r.prototype.rowHidden=function(e){return this.rowspan-=1,this.renderRowspan(),r.__super__.rowHidden.apply(this,arguments)},r.prototype.renderRowspan=function(){var t,r;return r=this.view.calendar.theme,this.rowspan?(this.groupTd||(this.groupTd=e('<td class="'+r.getClass("widgetContent")+'"/>').append(this.renderGroupContentEl())),this.groupTd.attr("rowspan",this.rowspan),t=this.getLeadingRow().getTr("spreadsheet"),t!==this.leadingTr?(t&&t.prepend(this.groupTd),this.leadingTr=t):void 0):(this.groupTd&&(this.groupTd.remove(),this.groupTd=null),this.leadingTr=null)},r}(V),y=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return rt(t,e),t.prototype.hasOwnRow=!0,t.prototype.segContainerEl=null,t.prototype.segContainerHeight=null,t.prototype.innerEl=null,t.prototype.bgSegContainerEl=null,t.prototype.isSegsRendered=!1,t.prototype.isBusinessHourSegsRendered=!1,t.prototype.businessHourSegs=null,t.prototype.bgSegs=null,t.prototype.fgSegs=null,t.prototype.renderEventContent=function(e){var t;return t=this.view.calendar.theme,e.html('<td class="'+t.getClass("widgetContent")+'"> <div> <div class="fc-event-container" /> </div> </td>'),this.segContainerEl=e.find(".fc-event-container"),this.innerEl=this.bgSegContainerEl=e.find("td > div"),this.ensureSegsRendered()},t.prototype.ensureSegsRendered=function(){if(!this.isSegsRendered)return this.ensureBusinessHourSegsRendered(),this.bgSegs&&this.view.timeGrid.renderFillInContainer("bgEvent",this,this.bgSegs),this.fgSegs&&this.view.timeGrid.renderFgSegsInContainers([[this,this.fgSegs]]),this.isSegsRendered=!0},t.prototype.ensureBusinessHourSegsRendered=function(){if(this.businessHourSegs&&!this.isBusinessHourSegsRendered)return this.view.timeGrid.renderFillInContainer("businessHours",this,this.businessHourSegs,"bgevent"),this.isBusinessHourSegsRendered=!0},t.prototype.unrenderEventContent=function(){return this.clearBusinessHourSegs(),this.bgSegs=null,this.fgSegs=null,this.isSegsRendered=!1},t.prototype.clearBusinessHourSegs=function(){var e,t,r,o;if(this.businessHourSegs){for(r=this.businessHourSegs,e=0,t=r.length;e<t;e++)o=r[e],o.el&&o.el.remove();this.businessHourSegs=null}return this.isBusinessHourSegsRendered=!1},t}(N),k=function(t){function r(e,t){this.resource=t,r.__super__.constructor.apply(this,arguments)}return rt(r,t),r.prototype.resource=null,r.prototype.rowAdded=function(e){if(r.__super__.rowAdded.apply(this,arguments),e!==this&&this.isRendered&&1===this.children.length)return this.enableExpanding(),this.isExpanded?this.indicateExpanded():this.indicateCollapsed()},r.prototype.rowRemoved=function(e){if(r.__super__.rowRemoved.apply(this,arguments),e!==this&&this.isRendered&&!this.children.length)return this.disableExpanding()},r.prototype.render=function(){return r.__super__.render.apply(this,arguments),this.children.length>0?this.enableExpanding():this.disableExpanding(),this.view.publiclyTrigger("resourceRender",{context:this.resource,args:[this.resource,this.getTr("spreadsheet").find("> td"),this.getTr("event").find("> td"),this.view]})},r.prototype.renderEventContent=function(e){return r.__super__.renderEventContent.apply(this,arguments),e.attr("data-resource-id",this.resource.id)},r.prototype.renderSpreadsheetContent=function(t){var r,o,n,s,i,l,u,a,h,c;for(c=this.view.calendar.theme,u=this.resource,l=this.view.colSpecs,s=0,i=l.length;s<i;s++)r=l[s],r.group||(n=r.field?u[r.field]||null:u,h="function"==typeof r.text?r.text(u,n):n,o=e('<div class="fc-cell-content">'+(r.isMain?this.renderGutterHtml():"")+'<span class="fc-cell-text">'+(h?Ie(h):"&nbsp;")+"</span></div>"),"function"==typeof r.render&&(o=r.render(u,o,n)||o),a=e('<td class="'+c.getClass("widgetContent")+'"/>').append(o),r.isMain&&a.wrapInner("<div/>"),t.append(a));return t.attr("data-resource-id",u.id)},r.prototype.renderGutterHtml=function(){var e,t,r,o;for(e="",t=r=0,o=this.depth;r<o;t=r+=1)e+='<span class="fc-icon"/>';return e+='<span class="fc-expander-space"><span class="fc-icon"></span></span>'},r}(y),R.views.timeline.resourceClass=q,F=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return rt(t,e),t.mixin(ne),t.prototype.timeGridClass=A,t.prototype.dayGridClass=M,t.prototype.renderHead=function(){return t.__super__.renderHead.apply(this,arguments),this.timeGrid.processHeadResourceEls(this.headContainerEl)},t.prototype.setResourcesOnGrids=function(e){if(this.timeGrid.setResources(e),this.dayGrid)return this.dayGrid.setResources(e)},t.prototype.unsetResourcesOnGrids=function(){if(this.timeGrid.unsetResources(),this.dayGrid)return this.dayGrid.unsetResources()},t}(R.AgendaView),R.views.agenda.queryResourceClass=function(e){var t;if(null!=(t=e.options.groupByResource||e.options.groupByDateAndResource)?t:e.duration&&1===e.duration.as("days"))return F},B=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return rt(t,e),t.mixin(ne),t.prototype.dayGridClass=M,t.prototype.renderHead=function(){return t.__super__.renderHead.apply(this,arguments),this.dayGrid.processHeadResourceEls(this.headContainerEl)},t.prototype.setResourcesOnGrids=function(e){return this.dayGrid.setResources(e)},t.prototype.unsetResourcesOnGrids=function(){return this.dayGrid.unsetResources()},t}(R.BasicView),P=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return rt(t,e),t.mixin(ne),t.prototype.dayGridClass=M,t.prototype.renderHead=function(){return t.__super__.renderHead.apply(this,arguments),this.dayGrid.processHeadResourceEls(this.headContainerEl)},t.prototype.setResourcesOnGrids=function(e){return this.dayGrid.setResources(e)},t.prototype.unsetResourcesOnGrids=function(){return this.dayGrid.unsetResources()},t}(R.MonthView),R.views.basic.queryResourceClass=function(e){var t;if(null!=(t=e.options.groupByResource||e.options.groupByDateAndResource)?t:e.duration&&1===e.duration.as("days"))return B},R.views.month.queryResourceClass=function(e){if(e.options.groupByResource||e.options.groupByDateAndResource)return P},D="2017-09-06",te={years:1,weeks:1},S="http://fullcalendar.io/scheduler/license/",_=["GPL-My-Project-Is-Open-Source","CC-Attribution-NonCommercial-NoDerivatives"],Ye=function(e,t){if(!xe(window.location.href)&&!Be(e)&&!ye(t))return $e('Please use a valid license key. <a href="'+S+'">More Info</a>',t)},Be=function(r){var o,n,s,i;return e.inArray(r,_)!==-1||(n=(r||"").match(/^(\d+)\-fcs\-(\d+)$/),!!(n&&10===n[1].length&&(s=t.utc(1e3*parseInt(n[2])),i=t.utc(R.mockSchedulerReleaseDate||D),i.isValid()&&(o=i.clone().subtract(te),s.isAfter(o)))))},xe=function(e){return Boolean(e.match(/\w+\:\/\/fullcalendar\.io\/|\/demos\/[\w-]+\.html$/))},$e=function(t,r){return r.append(e('<div class="fc-license-message" />').html(t))},void(ye=function(e){return e.find(".fc-license-message").length>=1}))});